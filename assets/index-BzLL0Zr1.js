(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function $f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wc={exports:{}},Di={},Gc={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bs=Symbol.for("react.element"),Uf=Symbol.for("react.portal"),Df=Symbol.for("react.fragment"),Mf=Symbol.for("react.strict_mode"),zf=Symbol.for("react.profiler"),Ff=Symbol.for("react.provider"),Bf=Symbol.for("react.context"),Vf=Symbol.for("react.forward_ref"),Hf=Symbol.for("react.suspense"),Wf=Symbol.for("react.memo"),Gf=Symbol.for("react.lazy"),ou=Symbol.iterator;function qf(e){return e===null||typeof e!="object"?null:(e=ou&&e[ou]||e["@@iterator"],typeof e=="function"?e:null)}var qc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kc=Object.assign,Jc={};function xn(e,t,r){this.props=e,this.context=t,this.refs=Jc,this.updater=r||qc}xn.prototype.isReactComponent={};xn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Qc(){}Qc.prototype=xn.prototype;function Xo(e,t,r){this.props=e,this.context=t,this.refs=Jc,this.updater=r||qc}var Yo=Xo.prototype=new Qc;Yo.constructor=Xo;Kc(Yo,xn.prototype);Yo.isPureReactComponent=!0;var lu=Array.isArray,Xc=Object.prototype.hasOwnProperty,Zo={current:null},Yc={key:!0,ref:!0,__self:!0,__source:!0};function Zc(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Xc.call(t,n)&&!Yc.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:bs,type:e,key:i,ref:a,props:s,_owner:Zo.current}}function Kf(e,t){return{$$typeof:bs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function el(e){return typeof e=="object"&&e!==null&&e.$$typeof===bs}function Jf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var uu=/\/+/g;function aa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Jf(""+e.key):t.toString(36)}function Qs(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case bs:case Uf:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+aa(a,0):n,lu(s)?(r="",e!=null&&(r=e.replace(uu,"$&/")+"/"),Qs(s,t,r,"",function(c){return c})):s!=null&&(el(s)&&(s=Kf(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(uu,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",lu(e))for(var l=0;l<e.length;l++){i=e[l];var u=n+aa(i,l);a+=Qs(i,t,r,u,s)}else if(u=qf(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=n+aa(i,l++),a+=Qs(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ts(e,t,r){if(e==null)return e;var n=[],s=0;return Qs(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Qf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ae={current:null},Xs={transition:null},Xf={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:Xs,ReactCurrentOwner:Zo};function ed(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Ts,forEach:function(e,t,r){Ts(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ts(e,function(){t++}),t},toArray:function(e){return Ts(e,function(t){return t})||[]},only:function(e){if(!el(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=xn;B.Fragment=Df;B.Profiler=zf;B.PureComponent=Xo;B.StrictMode=Mf;B.Suspense=Hf;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xf;B.act=ed;B.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Kc({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Zo.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)Xc.call(t,u)&&!Yc.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:bs,type:e.type,key:s,ref:i,props:n,_owner:a}};B.createContext=function(e){return e={$$typeof:Bf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ff,_context:e},e.Consumer=e};B.createElement=Zc;B.createFactory=function(e){var t=Zc.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:Vf,render:e}};B.isValidElement=el;B.lazy=function(e){return{$$typeof:Gf,_payload:{_status:-1,_result:e},_init:Qf}};B.memo=function(e,t){return{$$typeof:Wf,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=Xs.transition;Xs.transition={};try{e()}finally{Xs.transition=t}};B.unstable_act=ed;B.useCallback=function(e,t){return Ae.current.useCallback(e,t)};B.useContext=function(e){return Ae.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Ae.current.useDeferredValue(e)};B.useEffect=function(e,t){return Ae.current.useEffect(e,t)};B.useId=function(){return Ae.current.useId()};B.useImperativeHandle=function(e,t,r){return Ae.current.useImperativeHandle(e,t,r)};B.useInsertionEffect=function(e,t){return Ae.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Ae.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Ae.current.useMemo(e,t)};B.useReducer=function(e,t,r){return Ae.current.useReducer(e,t,r)};B.useRef=function(e){return Ae.current.useRef(e)};B.useState=function(e){return Ae.current.useState(e)};B.useSyncExternalStore=function(e,t,r){return Ae.current.useSyncExternalStore(e,t,r)};B.useTransition=function(){return Ae.current.useTransition()};B.version="18.3.1";Gc.exports=B;var C=Gc.exports;const Yf=$f(C);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf=C,ep=Symbol.for("react.element"),tp=Symbol.for("react.fragment"),rp=Object.prototype.hasOwnProperty,np=Zf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sp={key:!0,ref:!0,__self:!0,__source:!0};function td(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)rp.call(t,n)&&!sp.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:ep,type:e,key:i,ref:a,props:s,_owner:np.current}}Di.Fragment=tp;Di.jsx=td;Di.jsxs=td;Wc.exports=Di;var o=Wc.exports,Wa={},rd={exports:{}},Xe={},nd={exports:{}},sd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,D){var M=A.length;A.push(D);e:for(;0<M;){var Q=M-1>>>1,oe=A[Q];if(0<s(oe,D))A[Q]=D,A[M]=oe,M=Q;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var D=A[0],M=A.pop();if(M!==D){A[0]=M;e:for(var Q=0,oe=A.length,Sn=oe>>>1;Q<Sn;){var kt=2*(Q+1)-1,ur=A[kt],St=kt+1,Ze=A[St];if(0>s(ur,M))St<oe&&0>s(Ze,ur)?(A[Q]=Ze,A[St]=M,Q=St):(A[Q]=ur,A[kt]=M,Q=kt);else if(St<oe&&0>s(Ze,M))A[Q]=Ze,A[St]=M,Q=St;else break e}}return D}function s(A,D){var M=A.sortIndex-D.sortIndex;return M!==0?M:A.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,v=null,f=3,y=!1,m=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(A){for(var D=r(c);D!==null;){if(D.callback===null)n(c);else if(D.startTime<=A)n(c),D.sortIndex=D.expirationTime,t(u,D);else break;D=r(c)}}function x(A){if(w=!1,p(A),!m)if(r(u)!==null)m=!0,Fe(_);else{var D=r(c);D!==null&&lr(x,D.startTime-A)}}function _(A,D){m=!1,w&&(w=!1,g(k),k=-1),y=!0;var M=f;try{for(p(D),v=r(u);v!==null&&(!(v.expirationTime>D)||A&&!U());){var Q=v.callback;if(typeof Q=="function"){v.callback=null,f=v.priorityLevel;var oe=Q(v.expirationTime<=D);D=e.unstable_now(),typeof oe=="function"?v.callback=oe:v===r(u)&&n(u),p(D)}else n(u);v=r(u)}if(v!==null)var Sn=!0;else{var kt=r(c);kt!==null&&lr(x,kt.startTime-D),Sn=!1}return Sn}finally{v=null,f=M,y=!1}}var b=!1,S=null,k=-1,O=5,E=-1;function U(){return!(e.unstable_now()-E<O)}function W(){if(S!==null){var A=e.unstable_now();E=A;var D=!0;try{D=S(!0,A)}finally{D?ce():(b=!1,S=null)}}else b=!1}var ce;if(typeof h=="function")ce=function(){h(W)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ot=G.port2;G.port1.onmessage=W,ce=function(){ot.postMessage(null)}}else ce=function(){j(W,0)};function Fe(A){S=A,b||(b=!0,ce())}function lr(A,D){k=j(function(){A(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){m||y||(m=!0,Fe(_))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(A){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var M=f;f=D;try{return A()}finally{f=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,D){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var M=f;f=A;try{return D()}finally{f=M}},e.unstable_scheduleCallback=function(A,D,M){var Q=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?Q+M:Q):M=Q,A){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=M+oe,A={id:d++,callback:D,priorityLevel:A,startTime:M,expirationTime:oe,sortIndex:-1},M>Q?(A.sortIndex=M,t(c,A),r(u)===null&&A===r(c)&&(w?(g(k),k=-1):w=!0,lr(x,M-Q))):(A.sortIndex=oe,t(u,A),m||y||(m=!0,Fe(_))),A},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(A){var D=f;return function(){var M=f;f=D;try{return A.apply(this,arguments)}finally{f=M}}}})(sd);nd.exports=sd;var ip=nd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap=C,Qe=ip;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var id=new Set,Xn={};function Rr(e,t){hn(e,t),hn(e+"Capture",t)}function hn(e,t){for(Xn[e]=t,e=0;e<t.length;e++)id.add(t[e])}var At=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ga=Object.prototype.hasOwnProperty,op=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cu={},du={};function lp(e){return Ga.call(du,e)?!0:Ga.call(cu,e)?!1:op.test(e)?du[e]=!0:(cu[e]=!0,!1)}function up(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cp(e,t,r,n){if(t===null||typeof t>"u"||up(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Re(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ke[e]=new Re(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ke[t]=new Re(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ke[e]=new Re(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ke[e]=new Re(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ke[e]=new Re(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ke[e]=new Re(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ke[e]=new Re(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ke[e]=new Re(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ke[e]=new Re(e,5,!1,e.toLowerCase(),null,!1,!1)});var tl=/[\-:]([a-z])/g;function rl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tl,rl);ke[t]=new Re(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tl,rl);ke[t]=new Re(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tl,rl);ke[t]=new Re(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ke[e]=new Re(e,1,!1,e.toLowerCase(),null,!1,!1)});ke.xlinkHref=new Re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ke[e]=new Re(e,1,!1,e.toLowerCase(),null,!0,!0)});function nl(e,t,r,n){var s=ke.hasOwnProperty(t)?ke[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cp(t,r,s,n)&&(r=null),n||s===null?lp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Lt=ap.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cs=Symbol.for("react.element"),Hr=Symbol.for("react.portal"),Wr=Symbol.for("react.fragment"),sl=Symbol.for("react.strict_mode"),qa=Symbol.for("react.profiler"),ad=Symbol.for("react.provider"),od=Symbol.for("react.context"),il=Symbol.for("react.forward_ref"),Ka=Symbol.for("react.suspense"),Ja=Symbol.for("react.suspense_list"),al=Symbol.for("react.memo"),Ft=Symbol.for("react.lazy"),ld=Symbol.for("react.offscreen"),hu=Symbol.iterator;function Nn(e){return e===null||typeof e!="object"?null:(e=hu&&e[hu]||e["@@iterator"],typeof e=="function"?e:null)}var se=Object.assign,oa;function Ln(e){if(oa===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);oa=t&&t[1]||""}return`
`+oa+e}var la=!1;function ua(e,t){if(!e||la)return"";la=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var u=`
`+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=l);break}}}finally{la=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ln(e):""}function dp(e){switch(e.tag){case 5:return Ln(e.type);case 16:return Ln("Lazy");case 13:return Ln("Suspense");case 19:return Ln("SuspenseList");case 0:case 2:case 15:return e=ua(e.type,!1),e;case 11:return e=ua(e.type.render,!1),e;case 1:return e=ua(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wr:return"Fragment";case Hr:return"Portal";case qa:return"Profiler";case sl:return"StrictMode";case Ka:return"Suspense";case Ja:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case od:return(e.displayName||"Context")+".Consumer";case ad:return(e._context.displayName||"Context")+".Provider";case il:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case al:return t=e.displayName||null,t!==null?t:Qa(e.type)||"Memo";case Ft:t=e._payload,e=e._init;try{return Qa(e(t))}catch{}}return null}function hp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(t);case 8:return t===sl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function nr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ud(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fp(e){var t=ud(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Os(e){e._valueTracker||(e._valueTracker=fp(e))}function cd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ud(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xa(e,t){var r=t.checked;return se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function fu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=nr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dd(e,t){t=t.checked,t!=null&&nl(e,"checked",t,!1)}function Ya(e,t){dd(e,t);var r=nr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Za(e,t.type,r):t.hasOwnProperty("defaultValue")&&Za(e,t.type,nr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function pu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Za(e,t,r){(t!=="number"||ci(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var $n=Array.isArray;function nn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+nr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function eo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(T(92));if($n(r)){if(1<r.length)throw Error(T(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:nr(r)}}function hd(e,t){var r=nr(t.value),n=nr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function gu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function to(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var As,pd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(As=As||document.createElement("div"),As.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=As.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var zn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pp=["Webkit","ms","Moz","O"];Object.keys(zn).forEach(function(e){pp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zn[t]=zn[e]})});function md(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||zn.hasOwnProperty(e)&&zn[e]?(""+t).trim():t+"px"}function gd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=md(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var mp=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ro(e,t){if(t){if(mp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function no(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var so=null;function ol(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var io=null,sn=null,an=null;function vu(e){if(e=Ss(e)){if(typeof io!="function")throw Error(T(280));var t=e.stateNode;t&&(t=Vi(t),io(e.stateNode,e.type,t))}}function vd(e){sn?an?an.push(e):an=[e]:sn=e}function yd(){if(sn){var e=sn,t=an;if(an=sn=null,vu(e),t)for(e=0;e<t.length;e++)vu(t[e])}}function wd(e,t){return e(t)}function xd(){}var ca=!1;function bd(e,t,r){if(ca)return e(t,r);ca=!0;try{return wd(e,t,r)}finally{ca=!1,(sn!==null||an!==null)&&(xd(),yd())}}function Zn(e,t){var r=e.stateNode;if(r===null)return null;var n=Vi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(T(231,t,typeof r));return r}var ao=!1;if(At)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){ao=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{ao=!1}function gp(e,t,r,n,s,i,a,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Fn=!1,di=null,hi=!1,oo=null,vp={onError:function(e){Fn=!0,di=e}};function yp(e,t,r,n,s,i,a,l,u){Fn=!1,di=null,gp.apply(vp,arguments)}function wp(e,t,r,n,s,i,a,l,u){if(yp.apply(this,arguments),Fn){if(Fn){var c=di;Fn=!1,di=null}else throw Error(T(198));hi||(hi=!0,oo=c)}}function Pr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function _d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yu(e){if(Pr(e)!==e)throw Error(T(188))}function xp(e){var t=e.alternate;if(!t){if(t=Pr(e),t===null)throw Error(T(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return yu(s),e;if(i===n)return yu(s),t;i=i.sibling}throw Error(T(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?e:t}function kd(e){return e=xp(e),e!==null?Sd(e):null}function Sd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Sd(e);if(t!==null)return t;e=e.sibling}return null}var jd=Qe.unstable_scheduleCallback,wu=Qe.unstable_cancelCallback,bp=Qe.unstable_shouldYield,_p=Qe.unstable_requestPaint,ue=Qe.unstable_now,kp=Qe.unstable_getCurrentPriorityLevel,ll=Qe.unstable_ImmediatePriority,Ed=Qe.unstable_UserBlockingPriority,fi=Qe.unstable_NormalPriority,Sp=Qe.unstable_LowPriority,Nd=Qe.unstable_IdlePriority,Mi=null,bt=null;function jp(e){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Mi,e,void 0,(e.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:Tp,Ep=Math.log,Np=Math.LN2;function Tp(e){return e>>>=0,e===0?32:31-(Ep(e)/Np|0)|0}var Rs=64,Ps=4194304;function Un(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Un(l):(i&=a,i!==0&&(n=Un(i)))}else a=r&~s,a!==0?n=Un(a):i!==0&&(n=Un(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-mt(t),s=1<<r,n|=e[r],t&=~s;return n}function Cp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Op(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-mt(i),l=1<<a,u=s[a];u===-1?(!(l&r)||l&n)&&(s[a]=Cp(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function lo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Td(){var e=Rs;return Rs<<=1,!(Rs&4194240)&&(Rs=64),e}function da(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function _s(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mt(t),e[t]=r}function Ap(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-mt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function ul(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-mt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var q=0;function Cd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Od,cl,Ad,Rd,Pd,uo=!1,Is=[],Jt=null,Qt=null,Xt=null,es=new Map,ts=new Map,Ht=[],Rp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xu(e,t){switch(e){case"focusin":case"focusout":Jt=null;break;case"dragenter":case"dragleave":Qt=null;break;case"mouseover":case"mouseout":Xt=null;break;case"pointerover":case"pointerout":es.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ts.delete(t.pointerId)}}function Cn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ss(t),t!==null&&cl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Pp(e,t,r,n,s){switch(t){case"focusin":return Jt=Cn(Jt,e,t,r,n,s),!0;case"dragenter":return Qt=Cn(Qt,e,t,r,n,s),!0;case"mouseover":return Xt=Cn(Xt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return es.set(i,Cn(es.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ts.set(i,Cn(ts.get(i)||null,e,t,r,n,s)),!0}return!1}function Id(e){var t=br(e.target);if(t!==null){var r=Pr(t);if(r!==null){if(t=r.tag,t===13){if(t=_d(r),t!==null){e.blockedOn=t,Pd(e.priority,function(){Ad(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ys(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=co(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);so=n,r.target.dispatchEvent(n),so=null}else return t=Ss(r),t!==null&&cl(t),e.blockedOn=r,!1;t.shift()}return!0}function bu(e,t,r){Ys(e)&&r.delete(t)}function Ip(){uo=!1,Jt!==null&&Ys(Jt)&&(Jt=null),Qt!==null&&Ys(Qt)&&(Qt=null),Xt!==null&&Ys(Xt)&&(Xt=null),es.forEach(bu),ts.forEach(bu)}function On(e,t){e.blockedOn===t&&(e.blockedOn=null,uo||(uo=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,Ip)))}function rs(e){function t(s){return On(s,e)}if(0<Is.length){On(Is[0],e);for(var r=1;r<Is.length;r++){var n=Is[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Jt!==null&&On(Jt,e),Qt!==null&&On(Qt,e),Xt!==null&&On(Xt,e),es.forEach(t),ts.forEach(t),r=0;r<Ht.length;r++)n=Ht[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ht.length&&(r=Ht[0],r.blockedOn===null);)Id(r),r.blockedOn===null&&Ht.shift()}var on=Lt.ReactCurrentBatchConfig,mi=!0;function Lp(e,t,r,n){var s=q,i=on.transition;on.transition=null;try{q=1,dl(e,t,r,n)}finally{q=s,on.transition=i}}function $p(e,t,r,n){var s=q,i=on.transition;on.transition=null;try{q=4,dl(e,t,r,n)}finally{q=s,on.transition=i}}function dl(e,t,r,n){if(mi){var s=co(e,t,r,n);if(s===null)ba(e,t,n,gi,r),xu(e,n);else if(Pp(s,e,t,r,n))n.stopPropagation();else if(xu(e,n),t&4&&-1<Rp.indexOf(e)){for(;s!==null;){var i=Ss(s);if(i!==null&&Od(i),i=co(e,t,r,n),i===null&&ba(e,t,n,gi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ba(e,t,n,null,r)}}var gi=null;function co(e,t,r,n){if(gi=null,e=ol(n),e=br(e),e!==null)if(t=Pr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=_d(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gi=e,null}function Ld(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kp()){case ll:return 1;case Ed:return 4;case fi:case Sp:return 16;case Nd:return 536870912;default:return 16}default:return 16}}var qt=null,hl=null,Zs=null;function $d(){if(Zs)return Zs;var e,t=hl,r=t.length,n,s="value"in qt?qt.value:qt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Zs=s.slice(e,1<n?1-n:void 0)}function ei(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ls(){return!0}function _u(){return!1}function Ye(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ls:_u,this.isPropagationStopped=_u,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),t}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fl=Ye(bn),ks=se({},bn,{view:0,detail:0}),Up=Ye(ks),ha,fa,An,zi=se({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==An&&(An&&e.type==="mousemove"?(ha=e.screenX-An.screenX,fa=e.screenY-An.screenY):fa=ha=0,An=e),ha)},movementY:function(e){return"movementY"in e?e.movementY:fa}}),ku=Ye(zi),Dp=se({},zi,{dataTransfer:0}),Mp=Ye(Dp),zp=se({},ks,{relatedTarget:0}),pa=Ye(zp),Fp=se({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Bp=Ye(Fp),Vp=se({},bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hp=Ye(Vp),Wp=se({},bn,{data:0}),Su=Ye(Wp),Gp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Kp[e])?!!t[e]:!1}function pl(){return Jp}var Qp=se({},ks,{key:function(e){if(e.key){var t=Gp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ei(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pl,charCode:function(e){return e.type==="keypress"?ei(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ei(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xp=Ye(Qp),Yp=se({},zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ju=Ye(Yp),Zp=se({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pl}),em=Ye(Zp),tm=se({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),rm=Ye(tm),nm=se({},zi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sm=Ye(nm),im=[9,13,27,32],ml=At&&"CompositionEvent"in window,Bn=null;At&&"documentMode"in document&&(Bn=document.documentMode);var am=At&&"TextEvent"in window&&!Bn,Ud=At&&(!ml||Bn&&8<Bn&&11>=Bn),Eu=" ",Nu=!1;function Dd(e,t){switch(e){case"keyup":return im.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Md(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gr=!1;function om(e,t){switch(e){case"compositionend":return Md(t);case"keypress":return t.which!==32?null:(Nu=!0,Eu);case"textInput":return e=t.data,e===Eu&&Nu?null:e;default:return null}}function lm(e,t){if(Gr)return e==="compositionend"||!ml&&Dd(e,t)?(e=$d(),Zs=hl=qt=null,Gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ud&&t.locale!=="ko"?null:t.data;default:return null}}var um={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!um[e.type]:t==="textarea"}function zd(e,t,r,n){vd(n),t=vi(t,"onChange"),0<t.length&&(r=new fl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Vn=null,ns=null;function cm(e){Xd(e,0)}function Fi(e){var t=Jr(e);if(cd(t))return e}function dm(e,t){if(e==="change")return t}var Fd=!1;if(At){var ma;if(At){var ga="oninput"in document;if(!ga){var Cu=document.createElement("div");Cu.setAttribute("oninput","return;"),ga=typeof Cu.oninput=="function"}ma=ga}else ma=!1;Fd=ma&&(!document.documentMode||9<document.documentMode)}function Ou(){Vn&&(Vn.detachEvent("onpropertychange",Bd),ns=Vn=null)}function Bd(e){if(e.propertyName==="value"&&Fi(ns)){var t=[];zd(t,ns,e,ol(e)),bd(cm,t)}}function hm(e,t,r){e==="focusin"?(Ou(),Vn=t,ns=r,Vn.attachEvent("onpropertychange",Bd)):e==="focusout"&&Ou()}function fm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fi(ns)}function pm(e,t){if(e==="click")return Fi(t)}function mm(e,t){if(e==="input"||e==="change")return Fi(t)}function gm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:gm;function ss(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ga.call(t,s)||!vt(e[s],t[s]))return!1}return!0}function Au(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ru(e,t){var r=Au(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Au(r)}}function Vd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hd(){for(var e=window,t=ci();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ci(e.document)}return t}function gl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vm(e){var t=Hd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Vd(r.ownerDocument.documentElement,r)){if(n!==null&&gl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Ru(r,i);var a=Ru(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ym=At&&"documentMode"in document&&11>=document.documentMode,qr=null,ho=null,Hn=null,fo=!1;function Pu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;fo||qr==null||qr!==ci(n)||(n=qr,"selectionStart"in n&&gl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hn&&ss(Hn,n)||(Hn=n,n=vi(ho,"onSelect"),0<n.length&&(t=new fl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=qr)))}function $s(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Kr={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionend:$s("Transition","TransitionEnd")},va={},Wd={};At&&(Wd=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function Bi(e){if(va[e])return va[e];if(!Kr[e])return e;var t=Kr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Wd)return va[e]=t[r];return e}var Gd=Bi("animationend"),qd=Bi("animationiteration"),Kd=Bi("animationstart"),Jd=Bi("transitionend"),Qd=new Map,Iu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(e,t){Qd.set(e,t),Rr(t,[e])}for(var ya=0;ya<Iu.length;ya++){var wa=Iu[ya],wm=wa.toLowerCase(),xm=wa[0].toUpperCase()+wa.slice(1);ir(wm,"on"+xm)}ir(Gd,"onAnimationEnd");ir(qd,"onAnimationIteration");ir(Kd,"onAnimationStart");ir("dblclick","onDoubleClick");ir("focusin","onFocus");ir("focusout","onBlur");ir(Jd,"onTransitionEnd");hn("onMouseEnter",["mouseout","mouseover"]);hn("onMouseLeave",["mouseout","mouseover"]);hn("onPointerEnter",["pointerout","pointerover"]);hn("onPointerLeave",["pointerout","pointerover"]);Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dn));function Lu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,wp(n,t,void 0,e),e.currentTarget=null}function Xd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;Lu(s,l,c),i=u}else for(a=0;a<n.length;a++){if(l=n[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;Lu(s,l,c),i=u}}}if(hi)throw e=oo,hi=!1,oo=null,e}function X(e,t){var r=t[yo];r===void 0&&(r=t[yo]=new Set);var n=e+"__bubble";r.has(n)||(Yd(t,e,2,!1),r.add(n))}function xa(e,t,r){var n=0;t&&(n|=4),Yd(r,e,n,t)}var Us="_reactListening"+Math.random().toString(36).slice(2);function is(e){if(!e[Us]){e[Us]=!0,id.forEach(function(r){r!=="selectionchange"&&(bm.has(r)||xa(r,!1,e),xa(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Us]||(t[Us]=!0,xa("selectionchange",!1,t))}}function Yd(e,t,r,n){switch(Ld(t)){case 1:var s=Lp;break;case 4:s=$p;break;default:s=dl}r=s.bind(null,t,r,e),s=void 0,!ao||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ba(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;l!==null;){if(a=br(l),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}l=l.parentNode}}n=n.return}bd(function(){var c=i,d=ol(r),v=[];e:{var f=Qd.get(e);if(f!==void 0){var y=fl,m=e;switch(e){case"keypress":if(ei(r)===0)break e;case"keydown":case"keyup":y=Xp;break;case"focusin":m="focus",y=pa;break;case"focusout":m="blur",y=pa;break;case"beforeblur":case"afterblur":y=pa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Mp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=em;break;case Gd:case qd:case Kd:y=Bp;break;case Jd:y=rm;break;case"scroll":y=Up;break;case"wheel":y=sm;break;case"copy":case"cut":case"paste":y=Hp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=ju}var w=(t&4)!==0,j=!w&&e==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var h=c,p;h!==null;){p=h;var x=p.stateNode;if(p.tag===5&&x!==null&&(p=x,g!==null&&(x=Zn(h,g),x!=null&&w.push(as(h,x,p)))),j)break;h=h.return}0<w.length&&(f=new y(f,m,null,r,d),v.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&r!==so&&(m=r.relatedTarget||r.fromElement)&&(br(m)||m[Rt]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(m=r.relatedTarget||r.toElement,y=c,m=m?br(m):null,m!==null&&(j=Pr(m),m!==j||m.tag!==5&&m.tag!==6)&&(m=null)):(y=null,m=c),y!==m)){if(w=ku,x="onMouseLeave",g="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(w=ju,x="onPointerLeave",g="onPointerEnter",h="pointer"),j=y==null?f:Jr(y),p=m==null?f:Jr(m),f=new w(x,h+"leave",y,r,d),f.target=j,f.relatedTarget=p,x=null,br(d)===c&&(w=new w(g,h+"enter",m,r,d),w.target=p,w.relatedTarget=j,x=w),j=x,y&&m)t:{for(w=y,g=m,h=0,p=w;p;p=Ir(p))h++;for(p=0,x=g;x;x=Ir(x))p++;for(;0<h-p;)w=Ir(w),h--;for(;0<p-h;)g=Ir(g),p--;for(;h--;){if(w===g||g!==null&&w===g.alternate)break t;w=Ir(w),g=Ir(g)}w=null}else w=null;y!==null&&$u(v,f,y,w,!1),m!==null&&j!==null&&$u(v,j,m,w,!0)}}e:{if(f=c?Jr(c):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var _=dm;else if(Tu(f))if(Fd)_=mm;else{_=fm;var b=hm}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=pm);if(_&&(_=_(e,c))){zd(v,_,r,d);break e}b&&b(e,f,c),e==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&Za(f,"number",f.value)}switch(b=c?Jr(c):window,e){case"focusin":(Tu(b)||b.contentEditable==="true")&&(qr=b,ho=c,Hn=null);break;case"focusout":Hn=ho=qr=null;break;case"mousedown":fo=!0;break;case"contextmenu":case"mouseup":case"dragend":fo=!1,Pu(v,r,d);break;case"selectionchange":if(ym)break;case"keydown":case"keyup":Pu(v,r,d)}var S;if(ml)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Gr?Dd(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Ud&&r.locale!=="ko"&&(Gr||k!=="onCompositionStart"?k==="onCompositionEnd"&&Gr&&(S=$d()):(qt=d,hl="value"in qt?qt.value:qt.textContent,Gr=!0)),b=vi(c,k),0<b.length&&(k=new Su(k,e,null,r,d),v.push({event:k,listeners:b}),S?k.data=S:(S=Md(r),S!==null&&(k.data=S)))),(S=am?om(e,r):lm(e,r))&&(c=vi(c,"onBeforeInput"),0<c.length&&(d=new Su("onBeforeInput","beforeinput",null,r,d),v.push({event:d,listeners:c}),d.data=S))}Xd(v,t)})}function as(e,t,r){return{instance:e,listener:t,currentTarget:r}}function vi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Zn(e,r),i!=null&&n.unshift(as(e,i,s)),i=Zn(e,t),i!=null&&n.push(as(e,i,s))),e=e.return}return n}function Ir(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $u(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,u=l.alternate,c=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&c!==null&&(l=c,s?(u=Zn(r,i),u!=null&&a.unshift(as(r,u,l))):s||(u=Zn(r,i),u!=null&&a.push(as(r,u,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var _m=/\r\n?/g,km=/\u0000|\uFFFD/g;function Uu(e){return(typeof e=="string"?e:""+e).replace(_m,`
`).replace(km,"")}function Ds(e,t,r){if(t=Uu(t),Uu(e)!==t&&r)throw Error(T(425))}function yi(){}var po=null,mo=null;function go(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vo=typeof setTimeout=="function"?setTimeout:void 0,Sm=typeof clearTimeout=="function"?clearTimeout:void 0,Du=typeof Promise=="function"?Promise:void 0,jm=typeof queueMicrotask=="function"?queueMicrotask:typeof Du<"u"?function(e){return Du.resolve(null).then(e).catch(Em)}:vo;function Em(e){setTimeout(function(){throw e})}function _a(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),rs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);rs(t)}function Yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var _n=Math.random().toString(36).slice(2),xt="__reactFiber$"+_n,os="__reactProps$"+_n,Rt="__reactContainer$"+_n,yo="__reactEvents$"+_n,Nm="__reactListeners$"+_n,Tm="__reactHandles$"+_n;function br(e){var t=e[xt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Rt]||r[xt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Mu(e);e!==null;){if(r=e[xt])return r;e=Mu(e)}return t}e=r,r=e.parentNode}return null}function Ss(e){return e=e[xt]||e[Rt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function Vi(e){return e[os]||null}var wo=[],Qr=-1;function ar(e){return{current:e}}function Y(e){0>Qr||(e.current=wo[Qr],wo[Qr]=null,Qr--)}function J(e,t){Qr++,wo[Qr]=e.current,e.current=t}var sr={},Te=ar(sr),De=ar(!1),Nr=sr;function fn(e,t){var r=e.type.contextTypes;if(!r)return sr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Me(e){return e=e.childContextTypes,e!=null}function wi(){Y(De),Y(Te)}function zu(e,t,r){if(Te.current!==sr)throw Error(T(168));J(Te,t),J(De,r)}function Zd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(T(108,hp(e)||"Unknown",s));return se({},r,n)}function xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sr,Nr=Te.current,J(Te,e),J(De,De.current),!0}function Fu(e,t,r){var n=e.stateNode;if(!n)throw Error(T(169));r?(e=Zd(e,t,Nr),n.__reactInternalMemoizedMergedChildContext=e,Y(De),Y(Te),J(Te,e)):Y(De),J(De,r)}var Nt=null,Hi=!1,ka=!1;function eh(e){Nt===null?Nt=[e]:Nt.push(e)}function Cm(e){Hi=!0,eh(e)}function or(){if(!ka&&Nt!==null){ka=!0;var e=0,t=q;try{var r=Nt;for(q=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Nt=null,Hi=!1}catch(s){throw Nt!==null&&(Nt=Nt.slice(e+1)),jd(ll,or),s}finally{q=t,ka=!1}}return null}var Xr=[],Yr=0,bi=null,_i=0,tt=[],rt=0,Tr=null,Tt=1,Ct="";function gr(e,t){Xr[Yr++]=_i,Xr[Yr++]=bi,bi=e,_i=t}function th(e,t,r){tt[rt++]=Tt,tt[rt++]=Ct,tt[rt++]=Tr,Tr=e;var n=Tt;e=Ct;var s=32-mt(n)-1;n&=~(1<<s),r+=1;var i=32-mt(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Tt=1<<32-mt(t)+s|r<<s|n,Ct=i+e}else Tt=1<<i|r<<s|n,Ct=e}function vl(e){e.return!==null&&(gr(e,1),th(e,1,0))}function yl(e){for(;e===bi;)bi=Xr[--Yr],Xr[Yr]=null,_i=Xr[--Yr],Xr[Yr]=null;for(;e===Tr;)Tr=tt[--rt],tt[rt]=null,Ct=tt[--rt],tt[rt]=null,Tt=tt[--rt],tt[rt]=null}var Je=null,Ke=null,Z=!1,pt=null;function rh(e,t){var r=nt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Bu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Ke=Yt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Tr!==null?{id:Tt,overflow:Ct}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=nt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Je=e,Ke=null,!0):!1;default:return!1}}function xo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bo(e){if(Z){var t=Ke;if(t){var r=t;if(!Bu(e,t)){if(xo(e))throw Error(T(418));t=Yt(r.nextSibling);var n=Je;t&&Bu(e,t)?rh(n,r):(e.flags=e.flags&-4097|2,Z=!1,Je=e)}}else{if(xo(e))throw Error(T(418));e.flags=e.flags&-4097|2,Z=!1,Je=e}}}function Vu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function Ms(e){if(e!==Je)return!1;if(!Z)return Vu(e),Z=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!go(e.type,e.memoizedProps)),t&&(t=Ke)){if(xo(e))throw nh(),Error(T(418));for(;t;)rh(e,t),t=Yt(t.nextSibling)}if(Vu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ke=Yt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=Je?Yt(e.stateNode.nextSibling):null;return!0}function nh(){for(var e=Ke;e;)e=Yt(e.nextSibling)}function pn(){Ke=Je=null,Z=!1}function wl(e){pt===null?pt=[e]:pt.push(e)}var Om=Lt.ReactCurrentBatchConfig;function Rn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,e))}return e}function zs(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hu(e){var t=e._init;return t(e._payload)}function sh(e){function t(g,h){if(e){var p=g.deletions;p===null?(g.deletions=[h],g.flags|=16):p.push(h)}}function r(g,h){if(!e)return null;for(;h!==null;)t(g,h),h=h.sibling;return null}function n(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function s(g,h){return g=rr(g,h),g.index=0,g.sibling=null,g}function i(g,h,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<h?(g.flags|=2,h):p):(g.flags|=2,h)):(g.flags|=1048576,h)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,h,p,x){return h===null||h.tag!==6?(h=Oa(p,g.mode,x),h.return=g,h):(h=s(h,p),h.return=g,h)}function u(g,h,p,x){var _=p.type;return _===Wr?d(g,h,p.props.children,x,p.key):h!==null&&(h.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ft&&Hu(_)===h.type)?(x=s(h,p.props),x.ref=Rn(g,h,p),x.return=g,x):(x=oi(p.type,p.key,p.props,null,g.mode,x),x.ref=Rn(g,h,p),x.return=g,x)}function c(g,h,p,x){return h===null||h.tag!==4||h.stateNode.containerInfo!==p.containerInfo||h.stateNode.implementation!==p.implementation?(h=Aa(p,g.mode,x),h.return=g,h):(h=s(h,p.children||[]),h.return=g,h)}function d(g,h,p,x,_){return h===null||h.tag!==7?(h=Er(p,g.mode,x,_),h.return=g,h):(h=s(h,p),h.return=g,h)}function v(g,h,p){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Oa(""+h,g.mode,p),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Cs:return p=oi(h.type,h.key,h.props,null,g.mode,p),p.ref=Rn(g,null,h),p.return=g,p;case Hr:return h=Aa(h,g.mode,p),h.return=g,h;case Ft:var x=h._init;return v(g,x(h._payload),p)}if($n(h)||Nn(h))return h=Er(h,g.mode,p,null),h.return=g,h;zs(g,h)}return null}function f(g,h,p,x){var _=h!==null?h.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return _!==null?null:l(g,h,""+p,x);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Cs:return p.key===_?u(g,h,p,x):null;case Hr:return p.key===_?c(g,h,p,x):null;case Ft:return _=p._init,f(g,h,_(p._payload),x)}if($n(p)||Nn(p))return _!==null?null:d(g,h,p,x,null);zs(g,p)}return null}function y(g,h,p,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(p)||null,l(h,g,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Cs:return g=g.get(x.key===null?p:x.key)||null,u(h,g,x,_);case Hr:return g=g.get(x.key===null?p:x.key)||null,c(h,g,x,_);case Ft:var b=x._init;return y(g,h,p,b(x._payload),_)}if($n(x)||Nn(x))return g=g.get(p)||null,d(h,g,x,_,null);zs(h,x)}return null}function m(g,h,p,x){for(var _=null,b=null,S=h,k=h=0,O=null;S!==null&&k<p.length;k++){S.index>k?(O=S,S=null):O=S.sibling;var E=f(g,S,p[k],x);if(E===null){S===null&&(S=O);break}e&&S&&E.alternate===null&&t(g,S),h=i(E,h,k),b===null?_=E:b.sibling=E,b=E,S=O}if(k===p.length)return r(g,S),Z&&gr(g,k),_;if(S===null){for(;k<p.length;k++)S=v(g,p[k],x),S!==null&&(h=i(S,h,k),b===null?_=S:b.sibling=S,b=S);return Z&&gr(g,k),_}for(S=n(g,S);k<p.length;k++)O=y(S,g,k,p[k],x),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?k:O.key),h=i(O,h,k),b===null?_=O:b.sibling=O,b=O);return e&&S.forEach(function(U){return t(g,U)}),Z&&gr(g,k),_}function w(g,h,p,x){var _=Nn(p);if(typeof _!="function")throw Error(T(150));if(p=_.call(p),p==null)throw Error(T(151));for(var b=_=null,S=h,k=h=0,O=null,E=p.next();S!==null&&!E.done;k++,E=p.next()){S.index>k?(O=S,S=null):O=S.sibling;var U=f(g,S,E.value,x);if(U===null){S===null&&(S=O);break}e&&S&&U.alternate===null&&t(g,S),h=i(U,h,k),b===null?_=U:b.sibling=U,b=U,S=O}if(E.done)return r(g,S),Z&&gr(g,k),_;if(S===null){for(;!E.done;k++,E=p.next())E=v(g,E.value,x),E!==null&&(h=i(E,h,k),b===null?_=E:b.sibling=E,b=E);return Z&&gr(g,k),_}for(S=n(g,S);!E.done;k++,E=p.next())E=y(S,g,k,E.value,x),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?k:E.key),h=i(E,h,k),b===null?_=E:b.sibling=E,b=E);return e&&S.forEach(function(W){return t(g,W)}),Z&&gr(g,k),_}function j(g,h,p,x){if(typeof p=="object"&&p!==null&&p.type===Wr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Cs:e:{for(var _=p.key,b=h;b!==null;){if(b.key===_){if(_=p.type,_===Wr){if(b.tag===7){r(g,b.sibling),h=s(b,p.props.children),h.return=g,g=h;break e}}else if(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ft&&Hu(_)===b.type){r(g,b.sibling),h=s(b,p.props),h.ref=Rn(g,b,p),h.return=g,g=h;break e}r(g,b);break}else t(g,b);b=b.sibling}p.type===Wr?(h=Er(p.props.children,g.mode,x,p.key),h.return=g,g=h):(x=oi(p.type,p.key,p.props,null,g.mode,x),x.ref=Rn(g,h,p),x.return=g,g=x)}return a(g);case Hr:e:{for(b=p.key;h!==null;){if(h.key===b)if(h.tag===4&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){r(g,h.sibling),h=s(h,p.children||[]),h.return=g,g=h;break e}else{r(g,h);break}else t(g,h);h=h.sibling}h=Aa(p,g.mode,x),h.return=g,g=h}return a(g);case Ft:return b=p._init,j(g,h,b(p._payload),x)}if($n(p))return m(g,h,p,x);if(Nn(p))return w(g,h,p,x);zs(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,h!==null&&h.tag===6?(r(g,h.sibling),h=s(h,p),h.return=g,g=h):(r(g,h),h=Oa(p,g.mode,x),h.return=g,g=h),a(g)):r(g,h)}return j}var mn=sh(!0),ih=sh(!1),ki=ar(null),Si=null,Zr=null,xl=null;function bl(){xl=Zr=Si=null}function _l(e){var t=ki.current;Y(ki),e._currentValue=t}function _o(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ln(e,t){Si=e,xl=Zr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($e=!0),e.firstContext=null)}function it(e){var t=e._currentValue;if(xl!==e)if(e={context:e,memoizedValue:t,next:null},Zr===null){if(Si===null)throw Error(T(308));Zr=e,Si.dependencies={lanes:0,firstContext:e}}else Zr=Zr.next=e;return t}var _r=null;function kl(e){_r===null?_r=[e]:_r.push(e)}function ah(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,kl(t)):(r.next=s.next,s.next=r),t.interleaved=r,Pt(e,n)}function Pt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Bt=!1;function Sl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ot(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,H&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Pt(e,r)}return s=n.interleaved,s===null?(t.next=t,kl(n)):(t.next=s.next,s.next=t),n.interleaved=t,Pt(e,r)}function ti(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ul(e,r)}}function Wu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ji(e,t,r,n){var s=e.updateQueue;Bt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var v=s.baseState;a=0,d=c=u=null,l=i;do{var f=l.lane,y=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,w=l;switch(f=t,y=r,w.tag){case 1:if(m=w.payload,typeof m=="function"){v=m.call(y,v,f);break e}v=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,f=typeof m=="function"?m.call(y,v,f):m,f==null)break e;v=se({},v,f);break e;case 2:Bt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=y,u=v):d=d.next=y,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(u=v),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Or|=a,e.lanes=a,e.memoizedState=v}}function Gu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var js={},_t=ar(js),ls=ar(js),us=ar(js);function kr(e){if(e===js)throw Error(T(174));return e}function jl(e,t){switch(J(us,t),J(ls,e),J(_t,js),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:to(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=to(t,e)}Y(_t),J(_t,t)}function gn(){Y(_t),Y(ls),Y(us)}function lh(e){kr(us.current);var t=kr(_t.current),r=to(t,e.type);t!==r&&(J(ls,e),J(_t,r))}function El(e){ls.current===e&&(Y(_t),Y(ls))}var re=ar(0);function Ei(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sa=[];function Nl(){for(var e=0;e<Sa.length;e++)Sa[e]._workInProgressVersionPrimary=null;Sa.length=0}var ri=Lt.ReactCurrentDispatcher,ja=Lt.ReactCurrentBatchConfig,Cr=0,ne=null,me=null,ve=null,Ni=!1,Wn=!1,cs=0,Am=0;function je(){throw Error(T(321))}function Tl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!vt(e[r],t[r]))return!1;return!0}function Cl(e,t,r,n,s,i){if(Cr=i,ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=e===null||e.memoizedState===null?Lm:$m,e=r(n,s),Wn){i=0;do{if(Wn=!1,cs=0,25<=i)throw Error(T(301));i+=1,ve=me=null,t.updateQueue=null,ri.current=Um,e=r(n,s)}while(Wn)}if(ri.current=Ti,t=me!==null&&me.next!==null,Cr=0,ve=me=ne=null,Ni=!1,t)throw Error(T(300));return e}function Ol(){var e=cs!==0;return cs=0,e}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?ne.memoizedState=ve=e:ve=ve.next=e,ve}function at(){if(me===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var t=ve===null?ne.memoizedState:ve.next;if(t!==null)ve=t,me=e;else{if(e===null)throw Error(T(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},ve===null?ne.memoizedState=ve=e:ve=ve.next=e}return ve}function ds(e,t){return typeof t=="function"?t(e):t}function Ea(e){var t=at(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=me,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,u=null,c=i;do{var d=c.lane;if((Cr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var v={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=v,a=n):u=u.next=v,ne.lanes|=d,Or|=d}c=c.next}while(c!==null&&c!==i);u===null?a=n:u.next=l,vt(n,t.memoizedState)||($e=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ne.lanes|=i,Or|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Na(e){var t=at(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);vt(i,t.memoizedState)||($e=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function uh(){}function ch(e,t){var r=ne,n=at(),s=t(),i=!vt(n.memoizedState,s);if(i&&(n.memoizedState=s,$e=!0),n=n.queue,Al(fh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ve!==null&&ve.memoizedState.tag&1){if(r.flags|=2048,hs(9,hh.bind(null,r,n,s,t),void 0,null),ye===null)throw Error(T(349));Cr&30||dh(r,t,s)}return s}function dh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function hh(e,t,r,n){t.value=r,t.getSnapshot=n,ph(t)&&mh(e)}function fh(e,t,r){return r(function(){ph(t)&&mh(e)})}function ph(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!vt(e,r)}catch{return!0}}function mh(e){var t=Pt(e,1);t!==null&&gt(t,e,1,-1)}function qu(e){var t=wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:e},t.queue=e,e=e.dispatch=Im.bind(null,ne,e),[t.memoizedState,e]}function hs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function gh(){return at().memoizedState}function ni(e,t,r,n){var s=wt();ne.flags|=e,s.memoizedState=hs(1|t,r,void 0,n===void 0?null:n)}function Wi(e,t,r,n){var s=at();n=n===void 0?null:n;var i=void 0;if(me!==null){var a=me.memoizedState;if(i=a.destroy,n!==null&&Tl(n,a.deps)){s.memoizedState=hs(t,r,i,n);return}}ne.flags|=e,s.memoizedState=hs(1|t,r,i,n)}function Ku(e,t){return ni(8390656,8,e,t)}function Al(e,t){return Wi(2048,8,e,t)}function vh(e,t){return Wi(4,2,e,t)}function yh(e,t){return Wi(4,4,e,t)}function wh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xh(e,t,r){return r=r!=null?r.concat([e]):null,Wi(4,4,wh.bind(null,t,e),r)}function Rl(){}function bh(e,t){var r=at();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Tl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function _h(e,t){var r=at();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Tl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function kh(e,t,r){return Cr&21?(vt(r,t)||(r=Td(),ne.lanes|=r,Or|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$e=!0),e.memoizedState=r)}function Rm(e,t){var r=q;q=r!==0&&4>r?r:4,e(!0);var n=ja.transition;ja.transition={};try{e(!1),t()}finally{q=r,ja.transition=n}}function Sh(){return at().memoizedState}function Pm(e,t,r){var n=tr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},jh(e))Eh(t,r);else if(r=ah(e,t,r,n),r!==null){var s=Oe();gt(r,e,n,s),Nh(r,t,n)}}function Im(e,t,r){var n=tr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(jh(e))Eh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,vt(l,a)){var u=t.interleaved;u===null?(s.next=s,kl(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=ah(e,t,s,n),r!==null&&(s=Oe(),gt(r,e,n,s),Nh(r,t,n))}}function jh(e){var t=e.alternate;return e===ne||t!==null&&t===ne}function Eh(e,t){Wn=Ni=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Nh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ul(e,r)}}var Ti={readContext:it,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},Lm={readContext:it,useCallback:function(e,t){return wt().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:Ku,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ni(4194308,4,wh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ni(4194308,4,e,t)},useInsertionEffect:function(e,t){return ni(4,2,e,t)},useMemo:function(e,t){var r=wt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=wt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Pm.bind(null,ne,e),[n.memoizedState,e]},useRef:function(e){var t=wt();return e={current:e},t.memoizedState=e},useState:qu,useDebugValue:Rl,useDeferredValue:function(e){return wt().memoizedState=e},useTransition:function(){var e=qu(!1),t=e[0];return e=Rm.bind(null,e[1]),wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ne,s=wt();if(Z){if(r===void 0)throw Error(T(407));r=r()}else{if(r=t(),ye===null)throw Error(T(349));Cr&30||dh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Ku(fh.bind(null,n,i,e),[e]),n.flags|=2048,hs(9,hh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=wt(),t=ye.identifierPrefix;if(Z){var r=Ct,n=Tt;r=(n&~(1<<32-mt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=cs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Am++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$m={readContext:it,useCallback:bh,useContext:it,useEffect:Al,useImperativeHandle:xh,useInsertionEffect:vh,useLayoutEffect:yh,useMemo:_h,useReducer:Ea,useRef:gh,useState:function(){return Ea(ds)},useDebugValue:Rl,useDeferredValue:function(e){var t=at();return kh(t,me.memoizedState,e)},useTransition:function(){var e=Ea(ds)[0],t=at().memoizedState;return[e,t]},useMutableSource:uh,useSyncExternalStore:ch,useId:Sh,unstable_isNewReconciler:!1},Um={readContext:it,useCallback:bh,useContext:it,useEffect:Al,useImperativeHandle:xh,useInsertionEffect:vh,useLayoutEffect:yh,useMemo:_h,useReducer:Na,useRef:gh,useState:function(){return Na(ds)},useDebugValue:Rl,useDeferredValue:function(e){var t=at();return me===null?t.memoizedState=e:kh(t,me.memoizedState,e)},useTransition:function(){var e=Na(ds)[0],t=at().memoizedState;return[e,t]},useMutableSource:uh,useSyncExternalStore:ch,useId:Sh,unstable_isNewReconciler:!1};function ct(e,t){if(e&&e.defaultProps){t=se({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ko(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:se({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Gi={isMounted:function(e){return(e=e._reactInternals)?Pr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Oe(),s=tr(e),i=Ot(n,s);i.payload=t,r!=null&&(i.callback=r),t=Zt(e,i,s),t!==null&&(gt(t,e,s,n),ti(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Oe(),s=tr(e),i=Ot(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Zt(e,i,s),t!==null&&(gt(t,e,s,n),ti(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Oe(),n=tr(e),s=Ot(r,n);s.tag=2,t!=null&&(s.callback=t),t=Zt(e,s,n),t!==null&&(gt(t,e,n,r),ti(t,e,n))}};function Ju(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!ss(r,n)||!ss(s,i):!0}function Th(e,t,r){var n=!1,s=sr,i=t.contextType;return typeof i=="object"&&i!==null?i=it(i):(s=Me(t)?Nr:Te.current,n=t.contextTypes,i=(n=n!=null)?fn(e,s):sr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Qu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Gi.enqueueReplaceState(t,t.state,null)}function So(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Sl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=it(i):(i=Me(t)?Nr:Te.current,s.context=fn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ko(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Gi.enqueueReplaceState(s,s.state,null),ji(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function vn(e,t){try{var r="",n=t;do r+=dp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ta(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function jo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Dm=typeof WeakMap=="function"?WeakMap:Map;function Ch(e,t,r){r=Ot(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Oi||(Oi=!0,Lo=n),jo(e,t)},r}function Oh(e,t,r){r=Ot(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){jo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){jo(e,t),typeof n!="function"&&(er===null?er=new Set([this]):er.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Xu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Dm;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Ym.bind(null,e,t,r),t.then(e,e))}function Yu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ot(-1,1),t.tag=2,Zt(r,t,1))),r.lanes|=1),e)}var Mm=Lt.ReactCurrentOwner,$e=!1;function Ce(e,t,r,n){t.child=e===null?ih(t,null,r,n):mn(t,e.child,r,n)}function ec(e,t,r,n,s){r=r.render;var i=t.ref;return ln(t,s),n=Cl(e,t,r,n,i,s),r=Ol(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,It(e,t,s)):(Z&&r&&vl(t),t.flags|=1,Ce(e,t,n,s),t.child)}function tc(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!zl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Ah(e,t,i,n,s)):(e=oi(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:ss,r(a,n)&&e.ref===t.ref)return It(e,t,s)}return t.flags|=1,e=rr(i,n),e.ref=t.ref,e.return=t,t.child=e}function Ah(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ss(i,n)&&e.ref===t.ref)if($e=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&($e=!0);else return t.lanes=e.lanes,It(e,t,s)}return Eo(e,t,r,n,s)}function Rh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(tn,We),We|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,J(tn,We),We|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,J(tn,We),We|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,J(tn,We),We|=n;return Ce(e,t,s,r),t.child}function Ph(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Eo(e,t,r,n,s){var i=Me(r)?Nr:Te.current;return i=fn(t,i),ln(t,s),r=Cl(e,t,r,n,i,s),n=Ol(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,It(e,t,s)):(Z&&n&&vl(t),t.flags|=1,Ce(e,t,r,s),t.child)}function rc(e,t,r,n,s){if(Me(r)){var i=!0;xi(t)}else i=!1;if(ln(t,s),t.stateNode===null)si(e,t),Th(t,r,n),So(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=it(c):(c=Me(r)?Nr:Te.current,c=fn(t,c));var d=r.getDerivedStateFromProps,v=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||u!==c)&&Qu(t,a,n,c),Bt=!1;var f=t.memoizedState;a.state=f,ji(t,n,a,s),u=t.memoizedState,l!==n||f!==u||De.current||Bt?(typeof d=="function"&&(ko(t,r,d,n),u=t.memoizedState),(l=Bt||Ju(t,r,l,n,f,u,c))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=c,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,oh(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:ct(t.type,l),a.props=c,v=t.pendingProps,f=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=it(u):(u=Me(r)?Nr:Te.current,u=fn(t,u));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==v||f!==u)&&Qu(t,a,n,u),Bt=!1,f=t.memoizedState,a.state=f,ji(t,n,a,s);var m=t.memoizedState;l!==v||f!==m||De.current||Bt?(typeof y=="function"&&(ko(t,r,y,n),m=t.memoizedState),(c=Bt||Ju(t,r,c,n,f,m,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),a.props=n,a.state=m,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return No(e,t,r,n,i,s)}function No(e,t,r,n,s,i){Ph(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Fu(t,r,!1),It(e,t,i);n=t.stateNode,Mm.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=mn(t,e.child,null,i),t.child=mn(t,null,l,i)):Ce(e,t,l,i),t.memoizedState=n.state,s&&Fu(t,r,!0),t.child}function Ih(e){var t=e.stateNode;t.pendingContext?zu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zu(e,t.context,!1),jl(e,t.containerInfo)}function nc(e,t,r,n,s){return pn(),wl(s),t.flags|=256,Ce(e,t,r,n),t.child}var To={dehydrated:null,treeContext:null,retryLane:0};function Co(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lh(e,t,r){var n=t.pendingProps,s=re.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),J(re,s&1),e===null)return bo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ji(a,n,0,null),e=Er(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Co(r),t.memoizedState=To,e):Pl(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return zm(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=rr(s,u),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=rr(l,i):(i=Er(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Co(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=To,n}return i=e.child,e=i.sibling,n=rr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Pl(e,t){return t=Ji({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fs(e,t,r,n){return n!==null&&wl(n),mn(t,e.child,null,r),e=Pl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zm(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=Ta(Error(T(422))),Fs(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Ji({mode:"visible",children:n.children},s,0,null),i=Er(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&mn(t,e.child,null,a),t.child.memoizedState=Co(a),t.memoizedState=To,i);if(!(t.mode&1))return Fs(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(T(419)),n=Ta(i,n,void 0),Fs(e,t,a,n)}if(l=(a&e.childLanes)!==0,$e||l){if(n=ye,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Pt(e,s),gt(n,e,s,-1))}return Ml(),n=Ta(Error(T(421))),Fs(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Zm.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ke=Yt(s.nextSibling),Je=t,Z=!0,pt=null,e!==null&&(tt[rt++]=Tt,tt[rt++]=Ct,tt[rt++]=Tr,Tt=e.id,Ct=e.overflow,Tr=t),t=Pl(t,n.children),t.flags|=4096,t)}function sc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),_o(e.return,t,r)}function Ca(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function $h(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ce(e,t,n.children,r),n=re.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sc(e,r,t);else if(e.tag===19)sc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(J(re,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ei(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Ca(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ei(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Ca(t,!0,r,null,i);break;case"together":Ca(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function si(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function It(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Or|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,r=rr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=rr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Fm(e,t,r){switch(t.tag){case 3:Ih(t),pn();break;case 5:lh(t);break;case 1:Me(t.type)&&xi(t);break;case 4:jl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;J(ki,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(J(re,re.current&1),t.flags|=128,null):r&t.child.childLanes?Lh(e,t,r):(J(re,re.current&1),e=It(e,t,r),e!==null?e.sibling:null);J(re,re.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return $h(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),J(re,re.current),n)break;return null;case 22:case 23:return t.lanes=0,Rh(e,t,r)}return It(e,t,r)}var Uh,Oo,Dh,Mh;Uh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Oo=function(){};Dh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,kr(_t.current);var i=null;switch(r){case"input":s=Xa(e,s),n=Xa(e,n),i=[];break;case"select":s=se({},s,{value:void 0}),n=se({},n,{value:void 0}),i=[];break;case"textarea":s=eo(e,s),n=eo(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=yi)}ro(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Xn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Xn.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&X("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Mh=function(e,t,r,n){r!==n&&(t.flags|=4)};function Pn(e,t){if(!Z)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ee(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Bm(e,t,r){var n=t.pendingProps;switch(yl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(t),null;case 1:return Me(t.type)&&wi(),Ee(t),null;case 3:return n=t.stateNode,gn(),Y(De),Y(Te),Nl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ms(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pt!==null&&(Do(pt),pt=null))),Oo(e,t),Ee(t),null;case 5:El(t);var s=kr(us.current);if(r=t.type,e!==null&&t.stateNode!=null)Dh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(T(166));return Ee(t),null}if(e=kr(_t.current),Ms(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[xt]=t,n[os]=i,e=(t.mode&1)!==0,r){case"dialog":X("cancel",n),X("close",n);break;case"iframe":case"object":case"embed":X("load",n);break;case"video":case"audio":for(s=0;s<Dn.length;s++)X(Dn[s],n);break;case"source":X("error",n);break;case"img":case"image":case"link":X("error",n),X("load",n);break;case"details":X("toggle",n);break;case"input":fu(n,i),X("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},X("invalid",n);break;case"textarea":mu(n,i),X("invalid",n)}ro(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ds(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ds(n.textContent,l,e),s=["children",""+l]):Xn.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&X("scroll",n)}switch(r){case"input":Os(n),pu(n,i,!0);break;case"textarea":Os(n),gu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=yi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[xt]=t,e[os]=n,Uh(e,t,!1,!1),t.stateNode=e;e:{switch(a=no(r,n),r){case"dialog":X("cancel",e),X("close",e),s=n;break;case"iframe":case"object":case"embed":X("load",e),s=n;break;case"video":case"audio":for(s=0;s<Dn.length;s++)X(Dn[s],e);s=n;break;case"source":X("error",e),s=n;break;case"img":case"image":case"link":X("error",e),X("load",e),s=n;break;case"details":X("toggle",e),s=n;break;case"input":fu(e,n),s=Xa(e,n),X("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=se({},n,{value:void 0}),X("invalid",e);break;case"textarea":mu(e,n),s=eo(e,n),X("invalid",e);break;default:s=n}ro(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?gd(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&pd(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Yn(e,u):typeof u=="number"&&Yn(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xn.hasOwnProperty(i)?u!=null&&i==="onScroll"&&X("scroll",e):u!=null&&nl(e,i,u,a))}switch(r){case"input":Os(e),pu(e,n,!1);break;case"textarea":Os(e),gu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+nr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?nn(e,!!n.multiple,i,!1):n.defaultValue!=null&&nn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=yi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ee(t),null;case 6:if(e&&t.stateNode!=null)Mh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(T(166));if(r=kr(us.current),kr(_t.current),Ms(t)){if(n=t.stateNode,r=t.memoizedProps,n[xt]=t,(i=n.nodeValue!==r)&&(e=Je,e!==null))switch(e.tag){case 3:Ds(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ds(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[xt]=t,t.stateNode=n}return Ee(t),null;case 13:if(Y(re),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Z&&Ke!==null&&t.mode&1&&!(t.flags&128))nh(),pn(),t.flags|=98560,i=!1;else if(i=Ms(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[xt]=t}else pn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ee(t),i=!1}else pt!==null&&(Do(pt),pt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?ge===0&&(ge=3):Ml())),t.updateQueue!==null&&(t.flags|=4),Ee(t),null);case 4:return gn(),Oo(e,t),e===null&&is(t.stateNode.containerInfo),Ee(t),null;case 10:return _l(t.type._context),Ee(t),null;case 17:return Me(t.type)&&wi(),Ee(t),null;case 19:if(Y(re),i=t.memoizedState,i===null)return Ee(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Pn(i,!1);else{if(ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ei(e),a!==null){for(t.flags|=128,Pn(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return J(re,re.current&1|2),t.child}e=e.sibling}i.tail!==null&&ue()>yn&&(t.flags|=128,n=!0,Pn(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ei(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Pn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Z)return Ee(t),null}else 2*ue()-i.renderingStartTime>yn&&r!==1073741824&&(t.flags|=128,n=!0,Pn(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ue(),t.sibling=null,r=re.current,J(re,n?r&1|2:r&1),t):(Ee(t),null);case 22:case 23:return Dl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?We&1073741824&&(Ee(t),t.subtreeFlags&6&&(t.flags|=8192)):Ee(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function Vm(e,t){switch(yl(t),t.tag){case 1:return Me(t.type)&&wi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gn(),Y(De),Y(Te),Nl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return El(t),null;case 13:if(Y(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));pn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(re),null;case 4:return gn(),null;case 10:return _l(t.type._context),null;case 22:case 23:return Dl(),null;case 24:return null;default:return null}}var Bs=!1,Ne=!1,Hm=typeof WeakSet=="function"?WeakSet:Set,R=null;function en(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ae(e,t,n)}else r.current=null}function Ao(e,t,r){try{r()}catch(n){ae(e,t,n)}}var ic=!1;function Wm(e,t){if(po=mi,e=Hd(),gl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,u=-1,c=0,d=0,v=e,f=null;t:for(;;){for(var y;v!==r||s!==0&&v.nodeType!==3||(l=a+s),v!==i||n!==0&&v.nodeType!==3||(u=a+n),v.nodeType===3&&(a+=v.nodeValue.length),(y=v.firstChild)!==null;)f=v,v=y;for(;;){if(v===e)break t;if(f===r&&++c===s&&(l=a),f===i&&++d===n&&(u=a),(y=v.nextSibling)!==null)break;v=f,f=v.parentNode}v=y}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(mo={focusedElem:e,selectionRange:r},mi=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,j=m.memoizedState,g=t.stateNode,h=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:ct(t.type,w),j);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(x){ae(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return m=ic,ic=!1,m}function Gn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ao(t,r,i)}s=s.next}while(s!==n)}}function qi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ro(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function zh(e){var t=e.alternate;t!==null&&(e.alternate=null,zh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xt],delete t[os],delete t[yo],delete t[Nm],delete t[Tm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Fh(e){return e.tag===5||e.tag===3||e.tag===4}function ac(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Po(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=yi));else if(n!==4&&(e=e.child,e!==null))for(Po(e,t,r),e=e.sibling;e!==null;)Po(e,t,r),e=e.sibling}function Io(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Io(e,t,r),e=e.sibling;e!==null;)Io(e,t,r),e=e.sibling}var be=null,ht=!1;function zt(e,t,r){for(r=r.child;r!==null;)Bh(e,t,r),r=r.sibling}function Bh(e,t,r){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Mi,r)}catch{}switch(r.tag){case 5:Ne||en(r,t);case 6:var n=be,s=ht;be=null,zt(e,t,r),be=n,ht=s,be!==null&&(ht?(e=be,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):be.removeChild(r.stateNode));break;case 18:be!==null&&(ht?(e=be,r=r.stateNode,e.nodeType===8?_a(e.parentNode,r):e.nodeType===1&&_a(e,r),rs(e)):_a(be,r.stateNode));break;case 4:n=be,s=ht,be=r.stateNode.containerInfo,ht=!0,zt(e,t,r),be=n,ht=s;break;case 0:case 11:case 14:case 15:if(!Ne&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Ao(r,t,a),s=s.next}while(s!==n)}zt(e,t,r);break;case 1:if(!Ne&&(en(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ae(r,t,l)}zt(e,t,r);break;case 21:zt(e,t,r);break;case 22:r.mode&1?(Ne=(n=Ne)||r.memoizedState!==null,zt(e,t,r),Ne=n):zt(e,t,r);break;default:zt(e,t,r)}}function oc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Hm),t.forEach(function(n){var s=e0.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function lt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:be=l.stateNode,ht=!1;break e;case 3:be=l.stateNode.containerInfo,ht=!0;break e;case 4:be=l.stateNode.containerInfo,ht=!0;break e}l=l.return}if(be===null)throw Error(T(160));Bh(i,a,s),be=null,ht=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){ae(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Vh(t,e),t=t.sibling}function Vh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lt(t,e),yt(e),n&4){try{Gn(3,e,e.return),qi(3,e)}catch(w){ae(e,e.return,w)}try{Gn(5,e,e.return)}catch(w){ae(e,e.return,w)}}break;case 1:lt(t,e),yt(e),n&512&&r!==null&&en(r,r.return);break;case 5:if(lt(t,e),yt(e),n&512&&r!==null&&en(r,r.return),e.flags&32){var s=e.stateNode;try{Yn(s,"")}catch(w){ae(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&dd(s,i),no(l,a);var c=no(l,i);for(a=0;a<u.length;a+=2){var d=u[a],v=u[a+1];d==="style"?gd(s,v):d==="dangerouslySetInnerHTML"?pd(s,v):d==="children"?Yn(s,v):nl(s,d,v,c)}switch(l){case"input":Ya(s,i);break;case"textarea":hd(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?nn(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?nn(s,!!i.multiple,i.defaultValue,!0):nn(s,!!i.multiple,i.multiple?[]:"",!1))}s[os]=i}catch(w){ae(e,e.return,w)}}break;case 6:if(lt(t,e),yt(e),n&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ae(e,e.return,w)}}break;case 3:if(lt(t,e),yt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{rs(t.containerInfo)}catch(w){ae(e,e.return,w)}break;case 4:lt(t,e),yt(e);break;case 13:lt(t,e),yt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||($l=ue())),n&4&&oc(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ne=(c=Ne)||d,lt(t,e),Ne=c):lt(t,e),yt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(R=e,d=e.child;d!==null;){for(v=R=d;R!==null;){switch(f=R,y=f.child,f.tag){case 0:case 11:case 14:case 15:Gn(4,f,f.return);break;case 1:en(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(w){ae(n,r,w)}}break;case 5:en(f,f.return);break;case 22:if(f.memoizedState!==null){uc(v);continue}}y!==null?(y.return=f,R=y):uc(v)}d=d.sibling}e:for(d=null,v=e;;){if(v.tag===5){if(d===null){d=v;try{s=v.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=v.stateNode,u=v.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=md("display",a))}catch(w){ae(e,e.return,w)}}}else if(v.tag===6){if(d===null)try{v.stateNode.nodeValue=c?"":v.memoizedProps}catch(w){ae(e,e.return,w)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;d===v&&(d=null),v=v.return}d===v&&(d=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:lt(t,e),yt(e),n&4&&oc(e);break;case 21:break;default:lt(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Fh(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Yn(s,""),n.flags&=-33);var i=ac(e);Io(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=ac(e);Po(e,l,a);break;default:throw Error(T(161))}}catch(u){ae(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gm(e,t,r){R=e,Hh(e)}function Hh(e,t,r){for(var n=(e.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Bs;if(!a){var l=s.alternate,u=l!==null&&l.memoizedState!==null||Ne;l=Bs;var c=Ne;if(Bs=a,(Ne=u)&&!c)for(R=s;R!==null;)a=R,u=a.child,a.tag===22&&a.memoizedState!==null?cc(s):u!==null?(u.return=a,R=u):cc(s);for(;i!==null;)R=i,Hh(i),i=i.sibling;R=s,Bs=l,Ne=c}lc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):lc(e)}}function lc(e){for(;R!==null;){var t=R;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||qi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ne)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ct(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Gu(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Gu(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var v=d.dehydrated;v!==null&&rs(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Ne||t.flags&512&&Ro(t)}catch(f){ae(t,t.return,f)}}if(t===e){R=null;break}if(r=t.sibling,r!==null){r.return=t.return,R=r;break}R=t.return}}function uc(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var r=t.sibling;if(r!==null){r.return=t.return,R=r;break}R=t.return}}function cc(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{qi(4,t)}catch(u){ae(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){ae(t,s,u)}}var i=t.return;try{Ro(t)}catch(u){ae(t,i,u)}break;case 5:var a=t.return;try{Ro(t)}catch(u){ae(t,a,u)}}}catch(u){ae(t,t.return,u)}if(t===e){R=null;break}var l=t.sibling;if(l!==null){l.return=t.return,R=l;break}R=t.return}}var qm=Math.ceil,Ci=Lt.ReactCurrentDispatcher,Il=Lt.ReactCurrentOwner,st=Lt.ReactCurrentBatchConfig,H=0,ye=null,fe=null,_e=0,We=0,tn=ar(0),ge=0,fs=null,Or=0,Ki=0,Ll=0,qn=null,Le=null,$l=0,yn=1/0,jt=null,Oi=!1,Lo=null,er=null,Vs=!1,Kt=null,Ai=0,Kn=0,$o=null,ii=-1,ai=0;function Oe(){return H&6?ue():ii!==-1?ii:ii=ue()}function tr(e){return e.mode&1?H&2&&_e!==0?_e&-_e:Om.transition!==null?(ai===0&&(ai=Td()),ai):(e=q,e!==0||(e=window.event,e=e===void 0?16:Ld(e.type)),e):1}function gt(e,t,r,n){if(50<Kn)throw Kn=0,$o=null,Error(T(185));_s(e,r,n),(!(H&2)||e!==ye)&&(e===ye&&(!(H&2)&&(Ki|=r),ge===4&&Wt(e,_e)),ze(e,n),r===1&&H===0&&!(t.mode&1)&&(yn=ue()+500,Hi&&or()))}function ze(e,t){var r=e.callbackNode;Op(e,t);var n=pi(e,e===ye?_e:0);if(n===0)r!==null&&wu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&wu(r),t===1)e.tag===0?Cm(dc.bind(null,e)):eh(dc.bind(null,e)),jm(function(){!(H&6)&&or()}),r=null;else{switch(Cd(n)){case 1:r=ll;break;case 4:r=Ed;break;case 16:r=fi;break;case 536870912:r=Nd;break;default:r=fi}r=Yh(r,Wh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Wh(e,t){if(ii=-1,ai=0,H&6)throw Error(T(327));var r=e.callbackNode;if(un()&&e.callbackNode!==r)return null;var n=pi(e,e===ye?_e:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ri(e,n);else{t=n;var s=H;H|=2;var i=qh();(ye!==e||_e!==t)&&(jt=null,yn=ue()+500,jr(e,t));do try{Qm();break}catch(l){Gh(e,l)}while(!0);bl(),Ci.current=i,H=s,fe!==null?t=0:(ye=null,_e=0,t=ge)}if(t!==0){if(t===2&&(s=lo(e),s!==0&&(n=s,t=Uo(e,s))),t===1)throw r=fs,jr(e,0),Wt(e,n),ze(e,ue()),r;if(t===6)Wt(e,n);else{if(s=e.current.alternate,!(n&30)&&!Km(s)&&(t=Ri(e,n),t===2&&(i=lo(e),i!==0&&(n=i,t=Uo(e,i))),t===1))throw r=fs,jr(e,0),Wt(e,n),ze(e,ue()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(T(345));case 2:vr(e,Le,jt);break;case 3:if(Wt(e,n),(n&130023424)===n&&(t=$l+500-ue(),10<t)){if(pi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Oe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=vo(vr.bind(null,e,Le,jt),t);break}vr(e,Le,jt);break;case 4:if(Wt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-mt(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=ue()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*qm(n/1960))-n,10<n){e.timeoutHandle=vo(vr.bind(null,e,Le,jt),n);break}vr(e,Le,jt);break;case 5:vr(e,Le,jt);break;default:throw Error(T(329))}}}return ze(e,ue()),e.callbackNode===r?Wh.bind(null,e):null}function Uo(e,t){var r=qn;return e.current.memoizedState.isDehydrated&&(jr(e,t).flags|=256),e=Ri(e,t),e!==2&&(t=Le,Le=r,t!==null&&Do(t)),e}function Do(e){Le===null?Le=e:Le.push.apply(Le,e)}function Km(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!vt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wt(e,t){for(t&=~Ll,t&=~Ki,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-mt(t),n=1<<r;e[r]=-1,t&=~n}}function dc(e){if(H&6)throw Error(T(327));un();var t=pi(e,0);if(!(t&1))return ze(e,ue()),null;var r=Ri(e,t);if(e.tag!==0&&r===2){var n=lo(e);n!==0&&(t=n,r=Uo(e,n))}if(r===1)throw r=fs,jr(e,0),Wt(e,t),ze(e,ue()),r;if(r===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vr(e,Le,jt),ze(e,ue()),null}function Ul(e,t){var r=H;H|=1;try{return e(t)}finally{H=r,H===0&&(yn=ue()+500,Hi&&or())}}function Ar(e){Kt!==null&&Kt.tag===0&&!(H&6)&&un();var t=H;H|=1;var r=st.transition,n=q;try{if(st.transition=null,q=1,e)return e()}finally{q=n,st.transition=r,H=t,!(H&6)&&or()}}function Dl(){We=tn.current,Y(tn)}function jr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Sm(r)),fe!==null)for(r=fe.return;r!==null;){var n=r;switch(yl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&wi();break;case 3:gn(),Y(De),Y(Te),Nl();break;case 5:El(n);break;case 4:gn();break;case 13:Y(re);break;case 19:Y(re);break;case 10:_l(n.type._context);break;case 22:case 23:Dl()}r=r.return}if(ye=e,fe=e=rr(e.current,null),_e=We=t,ge=0,fs=null,Ll=Ki=Or=0,Le=qn=null,_r!==null){for(t=0;t<_r.length;t++)if(r=_r[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}_r=null}return e}function Gh(e,t){do{var r=fe;try{if(bl(),ri.current=Ti,Ni){for(var n=ne.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ni=!1}if(Cr=0,ve=me=ne=null,Wn=!1,cs=0,Il.current=null,r===null||r.return===null){ge=1,fs=t,fe=null;break}e:{var i=e,a=r.return,l=r,u=t;if(t=_e,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,v=d.tag;if(!(d.mode&1)&&(v===0||v===11||v===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Yu(a);if(y!==null){y.flags&=-257,Zu(y,a,l,i,t),y.mode&1&&Xu(i,c,t),t=y,u=c;var m=t.updateQueue;if(m===null){var w=new Set;w.add(u),t.updateQueue=w}else m.add(u);break e}else{if(!(t&1)){Xu(i,c,t),Ml();break e}u=Error(T(426))}}else if(Z&&l.mode&1){var j=Yu(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Zu(j,a,l,i,t),wl(vn(u,l));break e}}i=u=vn(u,l),ge!==4&&(ge=2),qn===null?qn=[i]:qn.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Ch(i,u,t);Wu(i,g);break e;case 1:l=u;var h=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(er===null||!er.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=Oh(i,l,t);Wu(i,x);break e}}i=i.return}while(i!==null)}Jh(r)}catch(_){t=_,fe===r&&r!==null&&(fe=r=r.return);continue}break}while(!0)}function qh(){var e=Ci.current;return Ci.current=Ti,e===null?Ti:e}function Ml(){(ge===0||ge===3||ge===2)&&(ge=4),ye===null||!(Or&268435455)&&!(Ki&268435455)||Wt(ye,_e)}function Ri(e,t){var r=H;H|=2;var n=qh();(ye!==e||_e!==t)&&(jt=null,jr(e,t));do try{Jm();break}catch(s){Gh(e,s)}while(!0);if(bl(),H=r,Ci.current=n,fe!==null)throw Error(T(261));return ye=null,_e=0,ge}function Jm(){for(;fe!==null;)Kh(fe)}function Qm(){for(;fe!==null&&!bp();)Kh(fe)}function Kh(e){var t=Xh(e.alternate,e,We);e.memoizedProps=e.pendingProps,t===null?Jh(e):fe=t,Il.current=null}function Jh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Vm(r,t),r!==null){r.flags&=32767,fe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ge=6,fe=null;return}}else if(r=Bm(r,t,We),r!==null){fe=r;return}if(t=t.sibling,t!==null){fe=t;return}fe=t=e}while(t!==null);ge===0&&(ge=5)}function vr(e,t,r){var n=q,s=st.transition;try{st.transition=null,q=1,Xm(e,t,r,n)}finally{st.transition=s,q=n}return null}function Xm(e,t,r,n){do un();while(Kt!==null);if(H&6)throw Error(T(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Ap(e,i),e===ye&&(fe=ye=null,_e=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Vs||(Vs=!0,Yh(fi,function(){return un(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=st.transition,st.transition=null;var a=q;q=1;var l=H;H|=4,Il.current=null,Wm(e,r),Vh(r,e),vm(mo),mi=!!po,mo=po=null,e.current=r,Gm(r),_p(),H=l,q=a,st.transition=i}else e.current=r;if(Vs&&(Vs=!1,Kt=e,Ai=s),i=e.pendingLanes,i===0&&(er=null),jp(r.stateNode),ze(e,ue()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Oi)throw Oi=!1,e=Lo,Lo=null,e;return Ai&1&&e.tag!==0&&un(),i=e.pendingLanes,i&1?e===$o?Kn++:(Kn=0,$o=e):Kn=0,or(),null}function un(){if(Kt!==null){var e=Cd(Ai),t=st.transition,r=q;try{if(st.transition=null,q=16>e?16:e,Kt===null)var n=!1;else{if(e=Kt,Kt=null,Ai=0,H&6)throw Error(T(331));var s=H;for(H|=4,R=e.current;R!==null;){var i=R,a=i.child;if(R.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(R=c;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:Gn(8,d,i)}var v=d.child;if(v!==null)v.return=d,R=v;else for(;R!==null;){d=R;var f=d.sibling,y=d.return;if(zh(d),d===c){R=null;break}if(f!==null){f.return=y,R=f;break}R=y}}}var m=i.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var j=w.sibling;w.sibling=null,w=j}while(w!==null)}}R=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,R=a;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,R=g;break e}R=i.return}}var h=e.current;for(R=h;R!==null;){a=R;var p=a.child;if(a.subtreeFlags&2064&&p!==null)p.return=a,R=p;else e:for(a=h;R!==null;){if(l=R,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:qi(9,l)}}catch(_){ae(l,l.return,_)}if(l===a){R=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,R=x;break e}R=l.return}}if(H=s,or(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Mi,e)}catch{}n=!0}return n}finally{q=r,st.transition=t}}return!1}function hc(e,t,r){t=vn(r,t),t=Ch(e,t,1),e=Zt(e,t,1),t=Oe(),e!==null&&(_s(e,1,t),ze(e,t))}function ae(e,t,r){if(e.tag===3)hc(e,e,r);else for(;t!==null;){if(t.tag===3){hc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(er===null||!er.has(n))){e=vn(r,e),e=Oh(t,e,1),t=Zt(t,e,1),e=Oe(),t!==null&&(_s(t,1,e),ze(t,e));break}}t=t.return}}function Ym(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Oe(),e.pingedLanes|=e.suspendedLanes&r,ye===e&&(_e&r)===r&&(ge===4||ge===3&&(_e&130023424)===_e&&500>ue()-$l?jr(e,0):Ll|=r),ze(e,t)}function Qh(e,t){t===0&&(e.mode&1?(t=Ps,Ps<<=1,!(Ps&130023424)&&(Ps=4194304)):t=1);var r=Oe();e=Pt(e,t),e!==null&&(_s(e,t,r),ze(e,r))}function Zm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Qh(e,r)}function e0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(t),Qh(e,r)}var Xh;Xh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||De.current)$e=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return $e=!1,Fm(e,t,r);$e=!!(e.flags&131072)}else $e=!1,Z&&t.flags&1048576&&th(t,_i,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;si(e,t),e=t.pendingProps;var s=fn(t,Te.current);ln(t,r),s=Cl(null,t,n,e,s,r);var i=Ol();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Me(n)?(i=!0,xi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Sl(t),s.updater=Gi,t.stateNode=s,s._reactInternals=t,So(t,n,e,r),t=No(null,t,n,!0,i,r)):(t.tag=0,Z&&i&&vl(t),Ce(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(si(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=r0(n),e=ct(n,e),s){case 0:t=Eo(null,t,n,e,r);break e;case 1:t=rc(null,t,n,e,r);break e;case 11:t=ec(null,t,n,e,r);break e;case 14:t=tc(null,t,n,ct(n.type,e),r);break e}throw Error(T(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ct(n,s),Eo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ct(n,s),rc(e,t,n,s,r);case 3:e:{if(Ih(t),e===null)throw Error(T(387));n=t.pendingProps,i=t.memoizedState,s=i.element,oh(e,t),ji(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=vn(Error(T(423)),t),t=nc(e,t,n,r,s);break e}else if(n!==s){s=vn(Error(T(424)),t),t=nc(e,t,n,r,s);break e}else for(Ke=Yt(t.stateNode.containerInfo.firstChild),Je=t,Z=!0,pt=null,r=ih(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(pn(),n===s){t=It(e,t,r);break e}Ce(e,t,n,r)}t=t.child}return t;case 5:return lh(t),e===null&&bo(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,go(n,s)?a=null:i!==null&&go(n,i)&&(t.flags|=32),Ph(e,t),Ce(e,t,a,r),t.child;case 6:return e===null&&bo(t),null;case 13:return Lh(e,t,r);case 4:return jl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=mn(t,null,n,r):Ce(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ct(n,s),ec(e,t,n,s,r);case 7:return Ce(e,t,t.pendingProps,r),t.child;case 8:return Ce(e,t,t.pendingProps.children,r),t.child;case 12:return Ce(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,J(ki,n._currentValue),n._currentValue=a,i!==null)if(vt(i.value,a)){if(i.children===s.children&&!De.current){t=It(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=Ot(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),_o(i.return,r,t),l.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(T(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),_o(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ce(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ln(t,r),s=it(s),n=n(s),t.flags|=1,Ce(e,t,n,r),t.child;case 14:return n=t.type,s=ct(n,t.pendingProps),s=ct(n.type,s),tc(e,t,n,s,r);case 15:return Ah(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ct(n,s),si(e,t),t.tag=1,Me(n)?(e=!0,xi(t)):e=!1,ln(t,r),Th(t,n,s),So(t,n,s,r),No(null,t,n,!0,e,r);case 19:return $h(e,t,r);case 22:return Rh(e,t,r)}throw Error(T(156,t.tag))};function Yh(e,t){return jd(e,t)}function t0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nt(e,t,r,n){return new t0(e,t,r,n)}function zl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function r0(e){if(typeof e=="function")return zl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===il)return 11;if(e===al)return 14}return 2}function rr(e,t){var r=e.alternate;return r===null?(r=nt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function oi(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")zl(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Wr:return Er(r.children,s,i,t);case sl:a=8,s|=8;break;case qa:return e=nt(12,r,t,s|2),e.elementType=qa,e.lanes=i,e;case Ka:return e=nt(13,r,t,s),e.elementType=Ka,e.lanes=i,e;case Ja:return e=nt(19,r,t,s),e.elementType=Ja,e.lanes=i,e;case ld:return Ji(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ad:a=10;break e;case od:a=9;break e;case il:a=11;break e;case al:a=14;break e;case Ft:a=16,n=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=nt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Er(e,t,r,n){return e=nt(7,e,n,t),e.lanes=r,e}function Ji(e,t,r,n){return e=nt(22,e,n,t),e.elementType=ld,e.lanes=r,e.stateNode={isHidden:!1},e}function Oa(e,t,r){return e=nt(6,e,null,t),e.lanes=r,e}function Aa(e,t,r){return t=nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function n0(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=da(0),this.expirationTimes=da(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=da(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fl(e,t,r,n,s,i,a,l,u){return e=new n0(e,t,r,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=nt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sl(i),e}function s0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Zh(e){if(!e)return sr;e=e._reactInternals;e:{if(Pr(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Me(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var r=e.type;if(Me(r))return Zd(e,r,t)}return t}function ef(e,t,r,n,s,i,a,l,u){return e=Fl(r,n,!0,e,s,i,a,l,u),e.context=Zh(null),r=e.current,n=Oe(),s=tr(r),i=Ot(n,s),i.callback=t??null,Zt(r,i,s),e.current.lanes=s,_s(e,s,n),ze(e,n),e}function Qi(e,t,r,n){var s=t.current,i=Oe(),a=tr(s);return r=Zh(r),t.context===null?t.context=r:t.pendingContext=r,t=Ot(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Zt(s,t,a),e!==null&&(gt(e,s,a,i),ti(e,s,a)),a}function Pi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Bl(e,t){fc(e,t),(e=e.alternate)&&fc(e,t)}function i0(){return null}var tf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vl(e){this._internalRoot=e}Xi.prototype.render=Vl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));Qi(e,t,null,null)};Xi.prototype.unmount=Vl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ar(function(){Qi(null,e,null,null)}),t[Rt]=null}};function Xi(e){this._internalRoot=e}Xi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ht.length&&t!==0&&t<Ht[r].priority;r++);Ht.splice(r,0,e),r===0&&Id(e)}};function Hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pc(){}function a0(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Pi(a);i.call(c)}}var a=ef(t,n,e,0,null,!1,!1,"",pc);return e._reactRootContainer=a,e[Rt]=a.current,is(e.nodeType===8?e.parentNode:e),Ar(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=Pi(u);l.call(c)}}var u=Fl(e,0,!1,null,null,!1,!1,"",pc);return e._reactRootContainer=u,e[Rt]=u.current,is(e.nodeType===8?e.parentNode:e),Ar(function(){Qi(t,u,r,n)}),u}function Zi(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var u=Pi(a);l.call(u)}}Qi(t,a,e,s)}else a=a0(r,t,e,s,n);return Pi(a)}Od=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Un(t.pendingLanes);r!==0&&(ul(t,r|1),ze(t,ue()),!(H&6)&&(yn=ue()+500,or()))}break;case 13:Ar(function(){var n=Pt(e,1);if(n!==null){var s=Oe();gt(n,e,1,s)}}),Bl(e,1)}};cl=function(e){if(e.tag===13){var t=Pt(e,134217728);if(t!==null){var r=Oe();gt(t,e,134217728,r)}Bl(e,134217728)}};Ad=function(e){if(e.tag===13){var t=tr(e),r=Pt(e,t);if(r!==null){var n=Oe();gt(r,e,t,n)}Bl(e,t)}};Rd=function(){return q};Pd=function(e,t){var r=q;try{return q=e,t()}finally{q=r}};io=function(e,t,r){switch(t){case"input":if(Ya(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Vi(n);if(!s)throw Error(T(90));cd(n),Ya(n,s)}}}break;case"textarea":hd(e,r);break;case"select":t=r.value,t!=null&&nn(e,!!r.multiple,t,!1)}};wd=Ul;xd=Ar;var o0={usingClientEntryPoint:!1,Events:[Ss,Jr,Vi,vd,yd,Ul]},In={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l0={bundleType:In.bundleType,version:In.version,rendererPackageName:In.rendererPackageName,rendererConfig:In.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kd(e),e===null?null:e.stateNode},findFiberByHostInstance:In.findFiberByHostInstance||i0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hs.isDisabled&&Hs.supportsFiber)try{Mi=Hs.inject(l0),bt=Hs}catch{}}Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o0;Xe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hl(t))throw Error(T(200));return s0(e,t,null,r)};Xe.createRoot=function(e,t){if(!Hl(e))throw Error(T(299));var r=!1,n="",s=tf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Fl(e,1,!1,null,null,r,!1,n,s),e[Rt]=t.current,is(e.nodeType===8?e.parentNode:e),new Vl(t)};Xe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=kd(t),e=e===null?null:e.stateNode,e};Xe.flushSync=function(e){return Ar(e)};Xe.hydrate=function(e,t,r){if(!Yi(t))throw Error(T(200));return Zi(null,e,t,!0,r)};Xe.hydrateRoot=function(e,t,r){if(!Hl(e))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=tf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=ef(t,null,e,1,r??null,s,!1,i,a),e[Rt]=t.current,is(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Xi(t)};Xe.render=function(e,t,r){if(!Yi(t))throw Error(T(200));return Zi(null,e,t,!1,r)};Xe.unmountComponentAtNode=function(e){if(!Yi(e))throw Error(T(40));return e._reactRootContainer?(Ar(function(){Zi(null,null,e,!1,function(){e._reactRootContainer=null,e[Rt]=null})}),!0):!1};Xe.unstable_batchedUpdates=Ul;Xe.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Yi(r))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return Zi(e,t,r,!1,n)};Xe.version="18.3.1-next-f1338f8080-20240426";function rf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rf)}catch(e){console.error(e)}}rf(),rd.exports=Xe;var u0=rd.exports,mc=u0;Wa.createRoot=mc.createRoot,Wa.hydrateRoot=mc.hydrateRoot;/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),F=(e,t)=>{const r=C.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:u,...c},d)=>C.createElement("svg",{ref:d,...c0,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${d0(e)}`,l].join(" "),...c},[...t.map(([v,f])=>C.createElement(v,f)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=F("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=F("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=F("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=F("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=F("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=F("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=F("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=F("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=F("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=F("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=F("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=F("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=F("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=F("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=F("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=F("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=F("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=F("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=F("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=F("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=F("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=F("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=F("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=F("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=F("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=F("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=F("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=F("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=F("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=F("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=F("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=F("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=F("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=F("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=F("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=F("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=F("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=F("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=F("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=F("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=F("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function ea(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function C0(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(v){a(v)}}function u(d){try{c(n.throw(d))}catch(v){a(v)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})}const O0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Gl extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class A0 extends Gl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class bc extends Gl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class _c extends Gl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var zo;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(zo||(zo={}));class R0{constructor(t,{headers:r={},customFetch:n,region:s=zo.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=O0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return C0(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:l,method:u,body:c,signal:d,timeout:v}=n;let f={},{region:y}=n;y||(y=this.region);const m=new URL(`${this.url}/${r}`);y&&y!=="any"&&(f["x-region"]=y,m.searchParams.set("forceFunctionRegion",y));let w;c&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",w=c):typeof c=="string"?(f["Content-Type"]="text/plain",w=c):typeof FormData<"u"&&c instanceof FormData?w=c:(f["Content-Type"]="application/json",w=JSON.stringify(c)):w=c;let j=d;v&&(a=new AbortController,i=setTimeout(()=>a.abort(),v),d?(j=a.signal,d.addEventListener("abort",()=>a.abort())):j=a.signal);const g=yield this.fetch(m.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:w,signal:j}).catch(_=>{throw new A0(_)}),h=g.headers.get("x-relay-error");if(h&&h==="true")throw new bc(g);if(!g.ok)throw new _c(g);let p=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return p==="application/json"?x=yield g.json():p==="application/octet-stream"||p==="application/pdf"?x=yield g.blob():p==="text/event-stream"?x=g:p==="multipart/form-data"?x=yield g.formData():x=yield g.text(),{data:x,error:null,response:g}}catch(l){return{data:null,error:l,response:l instanceof _c||l instanceof bc?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var P0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},I0=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,l=null,u=null,c=i.status,d=i.statusText;if(i.ok){var v,f;if(r.method!=="HEAD"){var y;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((y=r.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?l=g:l=JSON.parse(g))}const w=(v=r.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),j=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");w&&j&&j.length>1&&(u=parseInt(j[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(a={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,u=null,c=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var m;const w=await i.text();try{a=JSON.parse(w),Array.isArray(a)&&i.status===404&&(l=[],a=null,c=200,d="OK")}catch{i.status===404&&w===""?(c=204,d="No Content"):a={message:w}}if(a&&r.isMaybeSingle&&(!(a==null||(m=a.details)===null||m===void 0)&&m.includes("0 rows"))&&(a=null,c=200,d="OK"),a&&r.shouldThrowOnError)throw new P0(a)}return{error:a,data:l,count:u,status:c,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let l="";const u=i==null?void 0:i.cause;if(u){var c,d,v,f;const m=(c=u==null?void 0:u.message)!==null&&c!==void 0?c:"",w=(d=u==null?void 0:u.code)!==null&&d!==void 0?d:"";l=`${(v=i==null?void 0:i.name)!==null&&v!==void 0?v:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(f=u==null?void 0:u.name)!==null&&f!==void 0?f:"Error"}: ${m}`,w&&(l+=` (${w})`),u!=null&&u.stack&&(l+=`
${u.stack}`)}else{var y;l=(y=i==null?void 0:i.stack)!==null&&y!==void 0?y:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},L0=class extends I0{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const kc=new RegExp("[,()]");var Fr=class extends L0{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&kc.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&kc.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},$0=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),n&&this.headers.append("Prefer",`count=${n}`),new Fr({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(i.length>0){const a=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Fr({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Fr({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Fr({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Fr({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},U0=class cf{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new $0(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new cf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let l;const u=new URL(`${this.url}/rpc/${t}`);let c;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([v,f])=>f!==void 0).map(([v,f])=>[v,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([v,f])=>{u.searchParams.append(v,f)})):(l="POST",c=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Fr({method:l,url:u,headers:d,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class D0{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const M0="2.89.0",z0=`realtime-js/${M0}`,df="1.0.0",F0="2.0.0",Sc=df,Fo=1e4,B0=1e3,V0=100;var Vt;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Vt||(Vt={}));var pe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pe||(pe={}));var ft;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ft||(ft={}));var Bo;(function(e){e.websocket="websocket"})(Bo||(Bo={}));var wr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(wr||(wr={}));class H0{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,r,n){var s,i;const a=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",u=(i=t.join_ref)!==null&&i!==void 0?i:"",c=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},v=Object.keys(d).length===0?"":JSON.stringify(d);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+a.length+c.length+v.length,y=new ArrayBuffer(this.HEADER_LENGTH+f);let m=new DataView(y),w=0;m.setUint8(w++,this.KINDS.userBroadcastPush),m.setUint8(w++,u.length),m.setUint8(w++,l.length),m.setUint8(w++,a.length),m.setUint8(w++,c.length),m.setUint8(w++,v.length),m.setUint8(w++,r),Array.from(u,g=>m.setUint8(w++,g.charCodeAt(0))),Array.from(l,g=>m.setUint8(w++,g.charCodeAt(0))),Array.from(a,g=>m.setUint8(w++,g.charCodeAt(0))),Array.from(c,g=>m.setUint8(w++,g.charCodeAt(0))),Array.from(v,g=>m.setUint8(w++,g.charCodeAt(0)));var j=new Uint8Array(y.byteLength+n.byteLength);return j.set(new Uint8Array(y),0),j.set(new Uint8Array(n),y.byteLength),j.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,l,u]=n;return r({join_ref:s,ref:i,topic:a,event:l,payload:u})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let u=this.HEADER_LENGTH+4;const c=n.decode(t.slice(u,u+s));u=u+s;const d=n.decode(t.slice(u,u+i));u=u+i;const v=n.decode(t.slice(u,u+a));u=u+a;const f=t.slice(u,t.byteLength),y=l===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,m={type:this.BROADCAST_EVENT,event:d,payload:y};return a>0&&(m.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class hf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var K;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(K||(K={}));const jc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=W0(a,e,t,s),i),{}):{}},W0=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?ff(i,a):Vo(a)},ff=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return J0(t,r)}switch(e){case K.bool:return G0(t);case K.float4:case K.float8:case K.int2:case K.int4:case K.int8:case K.numeric:case K.oid:return q0(t);case K.json:case K.jsonb:return K0(t);case K.timestamp:return Q0(t);case K.abstime:case K.date:case K.daterange:case K.int4range:case K.int8range:case K.money:case K.reltime:case K.text:case K.time:case K.timestamptz:case K.timetz:case K.tsrange:case K.tstzrange:return Vo(t);default:return Vo(t)}},Vo=e=>e,G0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},q0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},K0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},J0=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>ff(t,l))}return e},Q0=e=>typeof e=="string"?e.replace(" ","T"):e,pf=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class La{constructor(t,r,n={},s=Fo){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ec;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ec||(Ec={}));class Jn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jn.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=Jn.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Jn.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),l={},u={};return this.map(i,(c,d)=>{a[c]||(u[c]=d)}),this.map(a,(c,d)=>{const v=i[c];if(v){const f=d.map(j=>j.presence_ref),y=v.map(j=>j.presence_ref),m=d.filter(j=>y.indexOf(j.presence_ref)<0),w=v.filter(j=>f.indexOf(j.presence_ref)<0);m.length>0&&(l[c]=m),w.length>0&&(u[c]=w)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(u),d.length>0){const v=t[l].map(y=>y.presence_ref),f=d.filter(y=>v.indexOf(y.presence_ref)<0);t[l].unshift(...f)}n(l,d,u)}),this.map(a,(l,u)=>{let c=t[l];if(!c)return;const d=u.map(v=>v.presence_ref);c=c.filter(v=>d.indexOf(v.presence_ref)<0),t[l]=c,s(l,c,u),c.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Nc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Nc||(Nc={}));var Qn;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Qn||(Qn={}));var Et;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Et||(Et={}));class rn{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new La(this,ft.join,this.params,this.timeout),this.rejoinTimer=new hf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pe.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ft.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new Jn(this),this.broadcastEndpointURL=pf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==pe.closed){const{config:{broadcast:a,presence:l,private:u}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Qn.PRESENCE]&&this.bindings[Qn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,v={},f={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(Et.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(Et.CLOSED)),this.updateJoinPayload(Object.assign({config:f},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var m;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){t==null||t(Et.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,j=(m=w==null?void 0:w.length)!==null&&m!==void 0?m:0,g=[];for(let h=0;h<j;h++){const p=w[h],{filter:{event:x,schema:_,table:b,filter:S}}=p,k=y&&y[h];if(k&&k.event===x&&rn.isFilterValueEqual(k.schema,_)&&rn.isFilterValueEqual(k.table,b)&&rn.isFilterValueEqual(k.filter,S))g.push(Object.assign(Object.assign({},p),{id:k.id}));else{this.unsubscribe(),this.state=pe.errored,t==null||t(Et.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Et.SUBSCRIBED);return}}).receive("error",y=>{this.state=pe.errored,t==null||t(Et.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Et.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===pe.joined&&t===Qn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const c=await l.json();u=c.error||c.message||u}catch{}return Promise.reject(new Error(u))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,u;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ft.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new La(this,ft.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new La(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>V0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:u,leave:c,join:d}=ft;if(n&&[l,u,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var m,w,j;return((m=y.filter)===null||m===void 0?void 0:m.event)==="*"||((j=(w=y.filter)===null||w===void 0?void 0:w.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===a}).map(y=>y.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(y=>{var m,w,j,g,h,p;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in y){const x=y.id,_=(m=y.filter)===null||m===void 0?void 0:m.event;return x&&((w=r.ids)===null||w===void 0?void 0:w.includes(x))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const x=(h=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return x==="*"||x===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===a}).map(y=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:w,table:j,commit_timestamp:g,type:h,errors:p}=m;f=Object.assign(Object.assign({},{schema:w,table:j,commit_timestamp:g,eventType:h,new:{},old:{},errors:p}),this._getPayloadRecords(m))}y.callback(f,n)})}_isClosed(){return this.state===pe.closed}_isJoined(){return this.state===pe.joined}_isJoining(){return this.state===pe.joining}_isLeaving(){return this.state===pe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&rn.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ft.close,{},t)}_onError(t){this._on(ft.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=jc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=jc(t.columns,t.old_record)),r}}const $a=()=>{},Gs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},X0=[1e3,2e3,5e3,1e4],Y0=1e4,Z0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class eg{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fo,this.transport=null,this.heartbeatIntervalMs=Gs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$a,this.ref=0,this.reconnectTimer=null,this.vsn=Sc,this.logger=$a,this.conn=null,this.sendBuffer=[],this.serializer=new H0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Bo.websocket}`,this.httpEndpoint=pf(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=D0.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Vt.connecting:return wr.Connecting;case Vt.open:return wr.Open;case Vt.closing:return wr.Closing;default:return wr.Closed}}isConnected(){return this.connectionState()===wr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new rn(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(B0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Gs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Vt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Vt.open||this.conn.readyState===Vt.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ft.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Z0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:z0};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(ft.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new hf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,l,u,c,d,v,f,y;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Fo,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Gs.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:$a,this.vsn=(u=t==null?void 0:t.vsn)!==null&&u!==void 0?u:Sc,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:m=>X0[m-1]||Y0,this.vsn){case df:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(m,w)=>w(JSON.stringify(m)),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:(m,w)=>w(JSON.parse(m));break;case F0:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(y=t==null?void 0:t.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ms=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function tg(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function rg(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function ng(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const l=tg(e.baseUrl,n,s),u=await rg(e.auth),c=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...u,...a},body:i?JSON.stringify(i):void 0}),d=await c.text(),v=(c.headers.get("content-type")||"").includes("application/json"),f=v&&d?JSON.parse(d):d;if(!c.ok){const y=v?f:void 0,m=y==null?void 0:y.error;throw new ms((m==null?void 0:m.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:m==null?void 0:m.type,icebergCode:m==null?void 0:m.code,details:y})}return{status:c.status,headers:c.headers,data:f}}}}function qs(e){return e.join("")}var sg=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:qs(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qs(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qs(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qs(e.namespace)}`}),!0}catch(t){if(t instanceof ms&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ms&&r.status===409)return;throw r}}};function Lr(e){return e.join("")}var ig=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Lr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Lr(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Lr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Lr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Lr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Lr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ms&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ms&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},ag=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=ng({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new sg(this.client,t),this.tableOps=new ig(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},ta=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function te(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var og=class extends ta{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ho=class extends ta{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const ql=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),lg=()=>Response,Wo=e=>{if(Array.isArray(e))return e.map(r=>Wo(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Wo(n)}),t},ug=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},cg=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function gs(e){"@babel/helpers - typeof";return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gs(e)}function dg(e,t){if(gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hg(e){var t=dg(e,"string");return gs(t)=="symbol"?t:t+""}function fg(e,t,r){return(t=hg(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tc(Object(r),!0).forEach(function(n){fg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Ua=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},pg=async(e,t,r)=>{e instanceof await lg()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,i=(n==null?void 0:n.statusCode)||s+"";t(new og(Ua(n),s,i))}).catch(n=>{t(new Ho(Ua(n),n))}):t(new Ho(Ua(e),e))},mg=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(ug(n)?(s.headers=$({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),$($({},s),r))};async function Es(e,t,r,n,s,i){return new Promise((a,l)=>{e(r,mg(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>pg(u,l,n))})}async function vs(e,t,r,n){return Es(e,"GET",t,r,n)}async function dt(e,t,r,n,s){return Es(e,"POST",t,n,s,r)}async function Go(e,t,r,n,s){return Es(e,"PUT",t,n,s,r)}async function gg(e,t,r,n){return Es(e,"HEAD",t,$($({},r),{},{noResolveJson:!0}),n)}async function Kl(e,t,r,n,s){return Es(e,"DELETE",t,n,s,r)}var vg=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(te(t))return{data:null,error:t};throw t}}};let mf;mf=Symbol.toStringTag;var yg=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[mf]="BlobDownloadBuilder",this.promise=null}asStream(){return new vg(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(te(t))return{data:null,error:t};throw t}}};const wg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var xg=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=ql(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let i;const a=$($({},Cc),n);let l=$($({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",s.encodeMetadata(u)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),u&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(u))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,u&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(u))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(l=$($({},l),n.headers));const c=s._removeEmptyFolders(t),d=s._getFinalPath(c),v=await(e=="PUT"?Go:dt)(s.fetch,`${s.url}/object/${d}`,i,$({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:v.Id,fullPath:v.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(te(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${a}`);l.searchParams.set("token",t);try{let u;const c=$({upsert:Cc.upsert},n),d=$($({},s.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",c.cacheControl)):(u=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{data:{path:i,fullPath:(await Go(s.fetch,l.toString(),u,{headers:d})).Key},error:null}}catch(u){if(s.shouldThrowOnError)throw u;if(te(u))return{data:null,error:u};throw u}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=$({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await dt(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),l=a.searchParams.get("token");if(!l)throw new ta("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await dt(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await dt(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),i=await dt(n.fetch,`${n.url}/object/sign/${s}`,$({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await dt(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>$($({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),a=()=>vs(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new yg(a,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:Wo(await vs(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await gg(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(te(n)&&n instanceof Ho){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&n.push(a);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await Kl(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=$($($({},wg),t),{},{prefix:e||""});return{data:await dt(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=$({},e);return{data:await dt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const gf="2.89.0",vf={"X-Client-Info":`storage-js/${gf}`};var bg=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=$($({},vf),t),this.fetch=ql(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await vs(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await vs(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await dt(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await Go(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await dt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Kl(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},_g=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=$($({},vf),t),this.fetch=ql(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await dt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await vs(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Kl(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!cg(e))throw new ta("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new ag({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...l)=>{try{return{data:await a.apply(s,l),error:null}}catch(u){if(n)throw u;return{data:null,error:u}}}}})}};const Jl={"X-Client-Info":`storage-js/${gf}`,"Content-Type":"application/json"};var yf=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ge(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Da=class extends yf{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},kg=class extends yf{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Ql=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Sg=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Oc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jg=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new Da(Oc(i),n,a))}).catch(()=>{const i=n+"";t(new Da(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new Da(s.statusText||`HTTP ${n} error`,n,i))}}else t(new kg(Oc(e),e))},Eg=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(Sg(n)?(s.headers=$({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,$($({},s),r)):s};async function Ng(e,t,r,n,s,i){return new Promise((a,l)=>{e(r,Eg(t,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;const c=u.headers.get("content-type");return!c||!c.includes("application/json")?{}:u.json()}).then(u=>a(u)).catch(u=>jg(u,l,n))})}async function qe(e,t,r,n,s){return Ng(e,"POST",t,n,s,r)}var Tg=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=$($({},Jl),t),this.fetch=Ql(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await qe(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await qe(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await qe(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await qe(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}},Cg=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=$($({},Jl),t),this.fetch=Ql(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await qe(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await qe(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await qe(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await qe(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await qe(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}},Og=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=$($({},Jl),t),this.fetch=Ql(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await qe(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await qe(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await qe(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await qe(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}},Ag=class extends Og{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Rg(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Rg=class extends Tg{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new Pg(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Pg=class extends Cg{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Ig=class extends bg{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new xg(this.url,this.headers,e,this.fetch)}get vectors(){return new Ag(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new _g(this.url+"/iceberg",this.headers,this.fetch)}};const wf="2.89.0",Br=30*1e3,qo=3,Ma=qo*Br,Lg="http://localhost:9999",$g="supabase.auth.token",Ug={"X-Client-Info":`gotrue-js/${wf}`},Ko="X-Supabase-Api-Version",xf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Dg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Mg=10*60*1e3;class ys extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function I(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class zg extends ys{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Fg(e){return I(e)&&e.name==="AuthApiError"}class xr extends ys{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class $t extends ys{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class He extends $t{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Bg(e){return I(e)&&e.name==="AuthSessionMissingError"}class $r extends $t{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ks extends $t{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Js extends $t{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Vg(e){return I(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ac extends $t{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hg extends $t{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Jo extends $t{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function za(e){return I(e)&&e.name==="AuthRetryableFetchError"}class Rc extends $t{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Qo extends $t{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Li="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pc=` 	
\r=`.split(""),Wg=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Pc.length;t+=1)e[Pc[t].charCodeAt(0)]=-2;for(let t=0;t<Li.length;t+=1)e[Li[t].charCodeAt(0)]=t;return e})();function Ic(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Li[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Li[n]),t.queuedBits-=6}}function bf(e,t,r){const n=Wg[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Lc(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Kg(a,n,r)};for(let a=0;a<e.length;a+=1)bf(e.charCodeAt(a),s,i);return t.join("")}function Gg(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function qg(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Gg(n,t)}}function Kg(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function dn(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)bf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Jg(e){const t=[];return qg(e,r=>t.push(r)),new Uint8Array(t)}function Sr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Ic(s,r,n)),Ic(null,r,n),t.join("")}function Qg(e){return Math.round(Date.now()/1e3)+e}function Xg(){return Symbol("auth-callback")}const xe=()=>typeof window<"u"&&typeof document<"u",pr={tested:!1,writable:!1},_f=()=>{if(!xe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pr.tested)return pr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),pr.tested=!0,pr.writable=!0}catch{pr.tested=!0,pr.writable=!1}return pr.writable};function Yg(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const kf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Zg=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Vr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},mr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},we=async(e,t)=>{await e.removeItem(t)};class ra{constructor(){this.promise=new ra.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ra.promiseConstructor=Promise;function Fa(e){const t=e.split(".");if(t.length!==3)throw new Qo("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Dg.test(t[n]))throw new Qo("JWT not in base64url format");return{header:JSON.parse(Lc(t[0])),payload:JSON.parse(Lc(t[1])),signature:dn(t[2]),raw:{header:t[0],payload:t[1]}}}async function ev(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function tv(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function rv(e){return("0"+e.toString(16)).substr(-2)}function nv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,rv).join("")}async function sv(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function iv(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await sv(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ur(e,t,r=!1){const n=nv();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Vr(e,`${t}-code-verifier`,s);const i=await iv(n);return[i,n===i?"plain":"s256"]}const av=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ov(e){const t=e.headers.get(Ko);if(!t||!t.match(av))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function lv(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function uv(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Dr(e){if(!cv.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ba(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function dv(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function $c(e){return JSON.parse(JSON.stringify(e))}const yr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hv=[502,503,504];async function Uc(e){var t;if(!Zg(e))throw new Jo(yr(e),0);if(hv.includes(e.status))throw new Jo(yr(e),e.status);let r;try{r=await e.json()}catch(i){throw new xr(yr(i),i)}let n;const s=ov(e);if(s&&s.getTime()>=xf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Rc(yr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new He}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Rc(yr(r),e.status,r.weak_password.reasons);throw new zg(yr(r),e.status||500,n)}const fv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function L(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ko]||(i[Ko]=xf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await pv(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function pv(e,t,r,n,s,i){const a=fv(t,n,s,i);let l;try{l=await e(r,Object.assign({},a))}catch(u){throw console.error(u),new Jo(yr(u),0)}if(l.ok||await Uc(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(u){await Uc(u)}}function ut(e){var t;let r=null;vv(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Qg(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Dc(e){const t=ut(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Gt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function mv(e){return{data:e,error:null}}function gv(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=ea(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:l,user:u},error:null}}function Mc(e){return e}function vv(e){return e.access_token&&e.refresh_token&&e.expires_in}const Va=["global","local","others"];class yv{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=kf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Va[0]){if(Va.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Va.join(", ")}`);try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Gt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ea(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:gv,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(I(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Gt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Mc});if(d.error)throw d.error;const v=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(m=>{const w=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(m.split(";")[1].split("=")[1]);c[`${j}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},v),c),error:null}}catch(c){if(I(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Dr(t);try{return await L(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Gt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Dr(t);try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Gt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Dr(t);try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Gt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Dr(t.userId);try{const{data:r,error:n}=await L(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Dr(t.userId),Dr(t.id);try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await L(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Mc});if(d.error)throw d.error;const v=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(m=>{const w=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(m.split(";")[1].split("=")[1]);c[`${j}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},v),c),error:null}}catch(c){if(I(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await L(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await L(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await L(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}}function zc(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Mr={debug:!!(globalThis&&_f()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Sf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class wv extends Sf{}async function xv(e,t,r){Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new wv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Mr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function bv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function jf(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function _v(e){return parseInt(e,16)}function kv(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Sv(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:u,resources:c,scheme:d,uri:v,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=jf(e.address),m=d?`${d}://${n}`:n,w=e.statement?`${e.statement}
`:"",j=`${m} wants you to sign in with your Ethereum account:
${y}

${w}`;let g=`URI: ${v}
Version: ${f}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),u&&(g+=`
Request ID: ${u}`),c){let h=`
Resources:`;for(const p of c){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);h+=`
- ${p}`}g+=h}return`${j}
${g}`}class he extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class $i extends he{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function jv({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new he({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new he({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new he({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new he({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new he({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new he({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new he({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new he({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Ef(a)){if(i.rp.id!==a)return new he({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new he({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new he({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new he({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new he({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Ev({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new he({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new he({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Ef(n)){if(r.rpId!==n)return new he({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new he({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new he({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new he({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Nv{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Tv=new Nv;function Cv(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=ea(e,["challenge","user","excludeCredentials"]),i=dn(t).buffer,a=Object.assign(Object.assign({},r),{id:dn(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const c=n[u];l.excludeCredentials[u]=Object.assign(Object.assign({},c),{id:dn(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function Ov(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ea(e,["challenge","allowCredentials"]),s=dn(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:dn(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function Av(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Sr(new Uint8Array(e.response.attestationObject)),clientDataJSON:Sr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Rv(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Sr(new Uint8Array(s.authenticatorData)),clientDataJSON:Sr(new Uint8Array(s.clientDataJSON)),signature:Sr(new Uint8Array(s.signature)),userHandle:s.userHandle?Sr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Ef(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Fc(){var e,t;return!!(xe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Pv(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new $i("Browser returned unexpected credential type",t)}:{data:null,error:new $i("Empty credential response",t)}}catch(t){return{data:null,error:jv({error:t,options:e})}}}async function Iv(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new $i("Browser returned unexpected credential type",t)}:{data:null,error:new $i("Empty credential response",t)}}catch(t){return{data:null,error:Ev({error:t,options:e})}}}const Lv={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},$v={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ui(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const l=n[i];t(l)?n[i]=Ui(l,a):n[i]=Ui(a)}else n[i]=a}return n}function Uv(e,t){return Ui(Lv,e,t||{})}function Dv(e,t){return Ui($v,e,t||{})}class Mv{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:l};const u=s??Tv.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=Uv(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:v}=await Pv({publicKey:c,signal:u});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:v}}case"request":{const c=Dv(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:v}=await Iv(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:u}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:v}}}}catch(a){return I(a)?{data:null,error:a}:{data:null,error:new xr("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new ys("rpId is required for WebAuthn authentication")};try{if(!Fc())return{data:null,error:new xr("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:u}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(a){return I(a)?{data:null,error:a}:{data:null,error:new xr("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new ys("rpId is required for WebAuthn registration")};try{if(!Fc())return{data:null,error:new xr("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var v;return(v=d.data)===null||v===void 0?void 0:v.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:u,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:c}}catch(a){return I(a)?{data:null,error:a}:{data:null,error:new xr("Unexpected error in register",a)}}}}bv();const zv={url:Lg,storageKey:$g,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ug,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Bc(e,t,r){return await r()}const zr={};class ws{get jwks(){var t,r;return(r=(t=zr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){zr[this.storageKey]=Object.assign(Object.assign({},zr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=zr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){zr[this.storageKey]=Object.assign(Object.assign({},zr[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},zv),t);if(this.storageKey=i.storageKey,this.instanceID=(r=ws.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ws.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&xe()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new yv({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=kf(i.fetch),this.lock=i.lock||Bc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&xe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=xv:this.lock=Bc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Mv(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:_f()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zc(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=zc(this.memoryStorage)),xe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${wf}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(xe()&&(r=Yg(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),xe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Vg(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return I(r)?this._returnResult({error:r}):this._returnResult({error:new xr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ut}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:v,options:f}=t;let y=null,m=null;this.flowType==="pkce"&&([y,m]=await Ur(this.storage,this.storageKey)),i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:v,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:m},xform:ut})}else if("phone"in t){const{phone:d,password:v,options:f}=t;i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:v,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ut})}else throw new Ks("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return await we(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(await we(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Dc})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Dc})}else throw new Ks("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new $r;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,l,u,c,d,v,f;let y,m;if("message"in t)y=t.message,m=t.signature;else{const{chain:w,wallet:j,statement:g,options:h}=t;let p;if(xe())if(typeof j=="object")p=j;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")p=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=j}const x=new URL((r=h==null?void 0:h.url)!==null&&r!==void 0?r:window.location.href),_=await p.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=jf(_[0]);let S=(n=h==null?void 0:h.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const O=await p.request({method:"eth_chainId"});S=_v(O)}const k={domain:x.host,address:b,statement:g,uri:x.href,version:"1",chainId:S,nonce:(s=h==null?void 0:h.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=h==null?void 0:h.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=h==null?void 0:h.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=h==null?void 0:h.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(c=h==null?void 0:h.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=h==null?void 0:h.signInWithEthereum)===null||d===void 0?void 0:d.resources};y=Sv(k),m=await p.request({method:"personal_sign",params:[kv(y),b]})}try{const{data:w,error:j}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:m},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ut});if(j)throw j;if(!w||!w.session||!w.user){const g=new $r;return this._returnResult({data:{user:null,session:null},error:g})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:j})}catch(w){if(I(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var r,n,s,i,a,l,u,c,d,v,f,y;let m,w;if("message"in t)m=t.message,w=t.signature;else{const{chain:j,wallet:g,statement:h,options:p}=t;let x;if(xe())if(typeof g=="object")x=g;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))x=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=g}const _=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in x&&x.signIn){const b=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),h?{statement:h}:null));let S;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")S=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)S=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)m=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),w=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${_.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((v=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||v===void 0)&&v.length?["Resources",...p.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const b=await x.signMessage(new TextEncoder().encode(m),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=b}}try{const{data:j,error:g}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Sr(w)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ut});if(g)throw g;if(!j||!j.session||!j.user){const h=new $r;return this._returnResult({data:{user:null,session:null},error:h})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:g})}catch(j){if(I(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(t){const r=await mr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Hg;const{data:i,error:a}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ut});if(await we(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new $r;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await we(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,l=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ut}),{data:u,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u||!u.session||!u.user){const d=new $r;return this._returnResult({data:{user:null,session:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:c})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:l,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Ur(this.storage,this.storageKey));const{error:v}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:l,options:u}=t,{data:c,error:d}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new Ks("You must provide either an email or phone number.")}catch(l){if(await we(this.storage,`${this.storageKey}-code-verifier`),I(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ut});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,c=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(s){if(I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Ur(this.storage,this.storageKey));const c=await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:mv});return!((i=c.data)===null||i===void 0)&&i.url&&xe()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(l){if(await we(this.storage,`${this.storageKey}-code-verifier`),I(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new He;const{error:s}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(I(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await L(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:l}=await L(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new Ks("You must provide either an email or phone number and a type")}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await mr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ma:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await mr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Ba()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=dv(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Gt}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new He}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Gt})})}catch(r){if(I(r))return Bg(r)&&(await this._removeSession(),await we(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new He;const a=s.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await Ur(this.storage,this.storageKey));const{data:c,error:d}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:Gt});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await we(this.storage,`${this.storageKey}-code-verifier`),I(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new He;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Fa(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(I(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new He;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!xe())throw new Js("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Js(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ac("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Js("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ac("No code detected.");const{data:h,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:u,token_type:c}=t;if(!i||!l||!a||!c)throw new Js("No session defined in URL");const d=Math.round(Date.now()/1e3),v=parseInt(l);let f=d+v;u&&(f=parseInt(u));const y=f-d;y*1e3<=Br&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${v}s`);const m=f-v;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);const{data:w,error:j}=await this._getUser(i);if(j)throw j;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:v,expires_at:f,refresh_token:a,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(I(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await mr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(Fg(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await we(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Xg(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ur(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await we(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,u,c,d;const{data:v,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(c=v.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return xe()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(I(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:u,access_token:c,nonce:d}=t,v=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:u,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ut}),{data:f,error:y}=v;return y?this._returnResult({data:{user:null,session:null},error:y}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new $r}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:y}))}catch(s){if(await we(this.storage,`${this.storageKey}-code-verifier`),I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await tv(async s=>(s>0&&await ev(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ut})),(s,i)=>{const a=200*Math.pow(2,s);return i&&za(i)&&Date.now()+a-n<Br})}catch(n){if(this._debug(r,"error",n),I(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),xe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await mr(this.storage,this.storageKey);if(s&&this.userStorage){let a=await mr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Vr(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Ba()}else if(s&&!s.user&&!s.user){const a=await mr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await we(this.storage,this.storageKey+"-user"),await Vr(this.storage,this.storageKey,s)):s.user=Ba()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ma;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ma}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),za(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new He;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ra;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new He;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),I(i)){const a={data:null,error:i};return za(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await we(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Vr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=$c(s);await Vr(this.storage,this.storageKey,i)}else{const s=$c(r);await Vr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await we(this.storage,this.storageKey),await we(this.storage,this.storageKey+"-code-verifier"),await we(this.storage,this.storageKey+"-user"),this.userStorage&&await we(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&xe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Br);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Br);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Br}ms, refresh threshold is ${qo} ticks`),s<=qo&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Sf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Ur(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await L(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:c}=await L(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&u.type==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Av(t.webauthn.credential_response):Rv(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await L(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await L(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Cv(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Ov(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Fa(n.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await L(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new He})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new He});const a=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&xe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new He});const a=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&xe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await L(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new He})})}catch(t){if(I(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await L(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new He})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Mg>s)return n;const{data:i,error:a}=await L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:m}=await this.getSession();if(m||!y.session)return this._returnResult({data:null,error:m});n=y.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:u}}=Fa(n);r!=null&&r.allowExpired||lv(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:a},error:null}}const d=uv(s.alg),v=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,v,a,Jg(`${l}.${u}`)))throw new Qo("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}}ws.nextInstanceID={};const Fv=ws,Bv="2.89.0";let Mn="";typeof Deno<"u"?Mn="deno":typeof document<"u"?Mn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mn="react-native":Mn="node";const Vv={"X-Client-Info":`supabase-js-${Mn}/${Bv}`},Hv={headers:Vv},Wv={schema:"public"},Gv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qv={};function xs(e){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(e)}function Kv(e,t){if(xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jv(e){var t=Kv(e,"string");return xs(t)=="symbol"?t:t+""}function Qv(e,t,r){return(t=Jv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vc(Object(r),!0).forEach(function(n){Qv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Xv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Yv=()=>Headers,Zv=(e,t,r)=>{const n=Xv(r),s=Yv();return async(i,a)=>{var l;const u=(l=await t())!==null&&l!==void 0?l:e;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,ie(ie({},a),{},{headers:c}))}};function ey(e){return e.endsWith("/")?e:e+"/"}function ty(e,t){var r,n;const{db:s,auth:i,realtime:a,global:l}=e,{db:u,auth:c,realtime:d,global:v}=t,f={db:ie(ie({},u),s),auth:ie(ie({},c),i),realtime:ie(ie({},d),a),storage:{},global:ie(ie(ie({},v),l),{},{headers:ie(ie({},(r=v==null?void 0:v.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function ry(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ey(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ny=class extends Fv{constructor(e){super(e)}},sy=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=ry(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:Wv,realtime:qv,auth:ie(ie({},Gv),{},{storageKey:a}),global:Hv},u=ty(r??{},l);if(this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=u.auth)!==null&&c!==void 0?c:{},this.headers,u.global.fetch)}this.fetch=Zv(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(ie({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new U0(new URL("rest/v1",i).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Ig(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new R0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:l,debug:u,throwOnError:c},d,v){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ny({url:this.authUrl.href,headers:ie(ie({},f),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:l,debug:u,throwOnError:c,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new eg(this.realtimeUrl.href,ie(ie({},e),{},{params:ie(ie({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const iy=(e,t,r)=>new sy(e,t,r);function ay(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}ay()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Hc="https://cqffdxvwdijakhnvggtg.supabase.co",Ha="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxZmZkeHZ3ZGlqYWtobnZnZ3RnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU2NTM5NzcsImV4cCI6MjA4MTIyOTk3N30.hn2zUt1Ki1Xmt4hcEcBOOYN45Jcc0gG94cKEfe_usAQ";let Ie;try{Ie=iy(Hc,Ha),console.log(" Supabase inicializado"),fetch(Hc+"/rest/v1/",{headers:{apikey:Ha,Authorization:"Bearer "+Ha}}).then(e=>{console.log(" Teste de conexo:",e.ok?" OK":" FALHOU",e.status)}).catch(e=>{console.error(" Teste de conexo FALHOU:",e.message)})}catch(e){console.error(" Erro ao inicializar Supabase:",e)}const Nf=C.createContext({});function oy({children:e}){const[t,r]=C.useState(null),[n,s]=C.useState(null),[i,a]=C.useState(!0),[l,u]=C.useState([]);C.useEffect(()=>{let _=!0;async function b(){console.log(" Verificando sesso...");try{const k=Ie.auth.getSession(),O=new Promise((W,ce)=>setTimeout(()=>ce(new Error("Timeout na verificao de sesso")),3e3)),{data:{session:E},error:U}=await Promise.race([k,O]);if(!_)return;if(U){console.error(" Erro ao verificar sesso:",U),a(!1);return}console.log(" Sesso:",E?"EXISTE":"NO EXISTE"),E!=null&&E.user&&(console.log(" User ID:",E.user.id),console.log(" Email:",E.user.email)),r((E==null?void 0:E.user)??null),E!=null&&E.user&&(c(E.user.id),d(E.user.id)),a(!1)}catch(k){console.error(" Timeout ou erro na autenticao:",k.message),_&&a(!1)}}b();const{data:{subscription:S}}=Ie.auth.onAuthStateChange(async(k,O)=>{console.log("Auth state changed:",k),_&&(r((O==null?void 0:O.user)??null),O!=null&&O.user?(c(O.user.id),d(O.user.id)):(s(null),u([])),a(!1))});return()=>{_=!1,S.unsubscribe()}},[]);async function c(_){try{console.log(" Carregando perfil do usurio:",_);const b=Ie.from("perfis").select("*").eq("id",_).single(),S=new Promise((E,U)=>setTimeout(()=>U(new Error("Timeout ao carregar perfil")),5e3)),{data:k,error:O}=await Promise.race([b,S]);if(O){console.log(" Perfil no encontrado ou erro:",O.message);return}console.log(" Perfil carregado:",(k==null?void 0:k.nome)||(k==null?void 0:k.email)),s(k)}catch(b){console.log(" Erro/timeout ao carregar perfil:",b.message)}}async function d(_){try{console.log(" Carregando imagens do usurio:",_);const b=Ie.from("imagens_geradas").select("*").eq("user_id",_).order("created_at",{ascending:!1}).limit(50),S=new Promise((E,U)=>setTimeout(()=>U(new Error("Timeout ao carregar imagens")),5e3)),{data:k,error:O}=await Promise.race([b,S]);if(O){console.error(" Erro ao carregar imagens:",O);return}console.log(" Imagens carregadas:",(k==null?void 0:k.length)||0),u(k||[])}catch(b){console.log(" Erro/timeout ao carregar imagens:",b.message)}}async function v(_,b){const{data:S,error:k}=await Ie.auth.signInWithPassword({email:_,password:b});if(k)throw k;return S}async function f(_,b,S,k){const{data:O,error:E}=await Ie.auth.signUp({email:_,password:b});if(E)throw E;return O.user&&(await new Promise(U=>setTimeout(U,500)),await Ie.from("perfis").upsert({id:O.user.id,email:_,nome:S,oab:k})),O}async function y(){const{error:_}=await Ie.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(_)throw _}async function m(){console.log(" Tentando fazer logout...");try{const _=Ie.auth.signOut(),b=new Promise((S,k)=>setTimeout(()=>k(new Error("Timeout")),3e3));await Promise.race([_,b]),console.log(" Logout realizado")}catch{console.log(" Logout travou, forando limpeza...")}r(null),s(null),u([]),localStorage.removeItem("sb-cqffdxvwdijakhnvggtg-auth-token"),console.log(" Recarregando pgina..."),window.location.reload()}async function w(_){if(console.log(" atualizarPerfil chamado com:",Object.keys(_)),!t){console.log(" Sem usurio para atualizar perfil");return}try{console.log(" Enviando para Supabase...");const b=new Promise((E,U)=>setTimeout(()=>U(new Error("Timeout: Atualizao demorou mais de 15 segundos")),15e3)),S=Ie.from("perfis").upsert({id:t.id,..._,updated_at:new Date().toISOString()}).select().single(),{data:k,error:O}=await Promise.race([S,b]);if(O)throw console.error(" Erro do Supabase:",O),O;return console.log(" Perfil atualizado:",k==null?void 0:k.id),s(k),k}catch(b){throw console.error(" Erro em atualizarPerfil:",b),b}}async function j(_){if(console.log(" Processando logo..."),!t)throw console.log(" Usurio no autenticado"),new Error("Usurio no autenticado");try{console.log(" Lendo arquivo...");const b=await new Promise((k,O)=>{const E=new FileReader;E.onload=()=>{console.log(" Arquivo lido com sucesso"),k(E.result)},E.onerror=U=>{console.error(" Erro ao ler arquivo:",U),O(U)},E.readAsDataURL(_)});console.log(" Logo convertida para base64"),console.log(" Tamanho:",(b.length/1024).toFixed(2),"KB"),console.log(" Salvando no banco...");const S=await w({logo_url:b});return console.log(" Logo salva no perfil:",S),b}catch(b){throw console.error(" Erro na funo uploadLogo:",b),b}}async function g(_){if(console.log(" Tentando salvar imagem:",_),!t){console.log(" Usurio no autenticado");return}try{const{data:b,error:S}=await Ie.from("imagens_geradas").insert({user_id:t.id,url:_.url,tema:_.tema,area:_.area,tipo_conteudo:_.tipoConteudo,formato:_.formato}).select().single();if(S)throw console.error(" Erro ao salvar no Supabase:",S),S;return console.log(" Imagem salva:",b),await d(t.id),b}catch(b){throw console.error(" Erro na funo salvarImagemGerada:",b),b}}async function h(_){const{error:b}=await Ie.from("imagens_geradas").delete().eq("id",_);if(b)throw b;await d(t.id)}async function p(_,b={}){try{const{data:{session:S}}=await Ie.auth.getSession(),k=S==null?void 0:S.access_token;if(!k)throw new Error("Usurio no autenticado");const O={...b.headers,"Content-Type":"application/json",Authorization:"Bearer "+k};return fetch(_,{...b,headers:O})}catch(S){throw console.error("Erro fetchAuth:",S),S}}const x={user:t,perfil:n,loading:i,minhasImagens:l,fazerLogin:v,fazerRegistro:f,loginGoogle:y,fazerLogout:m,atualizarPerfil:w,uploadLogo:j,salvarImagemGerada:g,deletarImagem:h,recarregarImagens:()=>t&&d(t.id),fetchAuth:p};return o.jsx(Nf.Provider,{value:x,children:e})}function kn(){return C.useContext(Nf)}function ly(){return o.jsx(oy,{children:o.jsx(uy,{})})}function uy(){var v;const{user:e,perfil:t,loading:r,fazerLogout:n,minhasImagens:s,salvarImagemGerada:i}=kn(),[a,l]=C.useState(!1),[u,c]=C.useState(!1);if(r)return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center",children:o.jsx(Ue,{className:"w-16 h-16 text-amber-500 animate-spin"})});if(!e)return o.jsx(cy,{});const d={nome:(t==null?void 0:t.nome)||((v=e.email)==null?void 0:v.split("@")[0])||"Usurio",oab:(e==null?void 0:e.oab)||"",logo:(t==null?void 0:t.logo_url)||null,email:e.email};return o.jsxs(o.Fragment,{children:[o.jsx(yy,{user:d,onLogout:n,onAbrirGaleria:()=>l(!0),onAbrirPerfil:()=>c(!0),onSalvarImagem:i}),o.jsx(dy,{isOpen:a,onClose:()=>l(!1)}),o.jsx(hy,{isOpen:u,onClose:()=>c(!1)})]})}function cy(){const{fazerLogin:e,fazerRegistro:t,loginGoogle:r}=kn(),[n,s]=C.useState("login"),[i,a]=C.useState(!1),[l,u]=C.useState(""),[c,d]=C.useState(""),[v,f]=C.useState(!1),[y,m]=C.useState(""),[w,j]=C.useState(""),[g,h]=C.useState(""),[p,x]=C.useState(""),_=async b=>{b.preventDefault(),u(""),d(""),a(!0);try{if(n==="login")await e(y,w);else{if(!g.trim())throw new Error("Nome  obrigatrio");const S=await t(y,w,g,p);S.user&&!S.session&&(d("Conta criada! Verifique seu email para confirmar."),s("login"))}}catch(S){S.message.includes("Invalid login")?u("Email ou senha incorretos"):S.message.includes("already registered")?u("Este email j est cadastrado"):S.message.includes("at least 6")?u("Senha deve ter no mnimo 6 caracteres"):u(S.message)}finally{a(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-amber-400 to-amber-600 rounded-2xl mb-4 shadow-lg",children:o.jsx(ui,{className:"w-8 h-8 text-white"})}),o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"JurisContent"}),o.jsx("p",{className:"text-slate-400",children:"Contedo jurdico profissional"})]}),o.jsxs("div",{className:"bg-slate-800/50 backdrop-blur rounded-2xl p-8 border border-slate-700",children:[o.jsxs("div",{className:"flex mb-6 bg-slate-900/50 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>{s("login"),u(""),d("")},className:`flex-1 py-2.5 rounded-md text-sm font-medium transition-all ${n==="login"?"bg-amber-500 text-white":"text-slate-400 hover:text-white"}`,children:"Entrar"}),o.jsx("button",{onClick:()=>{s("registro"),u(""),d("")},className:`flex-1 py-2.5 rounded-md text-sm font-medium transition-all ${n==="registro"?"bg-amber-500 text-white":"text-slate-400 hover:text-white"}`,children:"Criar Conta"})]}),l&&o.jsxs("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg flex items-center gap-2 text-red-400 text-sm",children:[o.jsx(nf,{className:"w-4 h-4"}),l]}),c&&o.jsxs("div",{className:"mb-4 p-3 bg-green-500/10 border border-green-500/30 rounded-lg flex items-center gap-2 text-green-400 text-sm",children:[o.jsx(af,{className:"w-4 h-4"}),c]}),o.jsxs("form",{onSubmit:_,className:"space-y-4",children:[n==="registro"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Nome Completo *"}),o.jsxs("div",{className:"relative",children:[o.jsx(uf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),o.jsx("input",{type:"text",value:g,onChange:b=>h(b.target.value),placeholder:"Dr. Joo Silva",className:"w-full bg-slate-700 border border-slate-600 rounded-lg pl-10 pr-4 py-2.5 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-amber-400",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"OAB (opcional)"}),o.jsxs("div",{className:"relative",children:[o.jsx(h0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),o.jsx("input",{type:"text",value:p,onChange:b=>x(b.target.value),placeholder:"OAB/SP 123456",className:"w-full bg-slate-700 border border-slate-600 rounded-lg pl-10 pr-4 py-2.5 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-amber-400"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Email *"}),o.jsxs("div",{className:"relative",children:[o.jsx(of,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),o.jsx("input",{type:"email",value:y,onChange:b=>m(b.target.value),placeholder:"seu@email.com",className:"w-full bg-slate-700 border border-slate-600 rounded-lg pl-10 pr-4 py-2.5 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-amber-400",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Senha *"}),o.jsxs("div",{className:"relative",children:[o.jsx(b0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),o.jsx("input",{type:v?"text":"password",value:w,onChange:b=>j(b.target.value),placeholder:"",className:"w-full bg-slate-700 border border-slate-600 rounded-lg pl-10 pr-12 py-2.5 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-amber-400",required:!0,minLength:6}),o.jsx("button",{type:"button",onClick:()=>f(!v),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white",children:v?o.jsx(m0,{className:"w-5 h-5"}):o.jsx(g0,{className:"w-5 h-5"})})]})]}),o.jsxs("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white font-medium py-3 rounded-lg transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[i?o.jsx(Ue,{className:"w-5 h-5 animate-spin"}):null,i?"Aguarde...":n==="login"?"Entrar":"Criar Conta"]})]}),o.jsxs("div",{className:"relative my-6",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-slate-600"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-slate-800/50 text-slate-400",children:"ou"})})]}),o.jsxs("button",{onClick:r,disabled:i,className:"w-full bg-white hover:bg-gray-100 text-gray-800 font-medium py-3 rounded-lg transition-all flex items-center justify-center gap-3",children:[o.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continuar com Google"]})]})]})})}function dy({isOpen:e,onClose:t}){const{minhasImagens:r,deletarImagem:n}=kn(),[s,i]=C.useState(null),[a,l]=C.useState(null);if(!e)return null;const u=async d=>{if(confirm("Excluir esta imagem?")){l(d);try{await n(d),(s==null?void 0:s.id)===d&&i(null)}catch{alert("Erro ao excluir")}l(null)}},c=d=>new Date(d).toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric"});return o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-slate-800 rounded-2xl w-full max-w-5xl max-h-[85vh] overflow-hidden border border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(w0,{className:"w-5 h-5 text-amber-400"}),o.jsxs("h2",{className:"text-lg font-semibold text-white",children:["Minhas Imagens (",r.length,")"]})]}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-700 rounded-lg",children:o.jsx(wn,{className:"w-5 h-5 text-slate-400"})})]}),o.jsxs("div",{className:"flex h-[calc(85vh-70px)]",children:[o.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:r.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[o.jsx(cn,{className:"w-16 h-16 mb-4 opacity-30"}),o.jsx("p",{children:"Nenhuma imagem gerada ainda"})]}):o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:r.map(d=>o.jsxs("div",{onClick:()=>i(d),className:`relative cursor-pointer rounded-lg overflow-hidden border-2 transition-all ${(s==null?void 0:s.id)===d.id?"border-amber-400 ring-2 ring-amber-400/30":"border-slate-700 hover:border-slate-600"}`,children:[o.jsx("img",{src:d.url,alt:"",className:"w-full aspect-square object-cover"}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-2 bg-gradient-to-t from-black/80 to-transparent",children:o.jsx("p",{className:"text-white text-xs truncate",children:d.tema||"Sem ttulo"})})]},d.id))})}),s&&o.jsxs("div",{className:"w-72 border-l border-slate-700 p-4 overflow-y-auto bg-slate-900/50",children:[o.jsx("img",{src:s.url,alt:"",className:"w-full rounded-lg mb-4"}),s.tema&&o.jsx("p",{className:"text-white font-medium mb-2",children:s.tema}),s.area&&o.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-sm mb-2",children:[o.jsx(E0,{className:"w-4 h-4"}),s.area]}),o.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-sm mb-4",children:[o.jsx(sf,{className:"w-4 h-4"}),c(s.created_at)]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("a",{href:s.url,download:!0,className:"w-full flex items-center justify-center gap-2 bg-amber-500 hover:bg-amber-600 text-white py-2 rounded-lg",children:[o.jsx(Mo,{className:"w-4 h-4"}),"Baixar"]}),o.jsxs("button",{onClick:()=>u(s.id),disabled:a===s.id,className:"w-full flex items-center justify-center gap-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 py-2 rounded-lg",children:[a===s.id?o.jsx(Ue,{className:"w-4 h-4 animate-spin"}):o.jsx(N0,{className:"w-4 h-4"}),"Excluir"]})]})]})]})]})})}function hy({isOpen:e,onClose:t}){const{user:r,perfil:n,atualizarPerfil:s,uploadLogo:i,minhasImagens:a,fetchAuth:l}=kn(),u=C.useRef(null),[c,d]=C.useState(!1),[v,f]=C.useState(!1),[y,m]=C.useState(!1),[w,j]=C.useState({tipo:"",texto:""}),[g,h]=C.useState((n==null?void 0:n.nome)||""),[p,x]=C.useState((r==null?void 0:r.oab)||""),[_,b]=C.useState((r==null?void 0:r.telefone)||"");if(C.useEffect(()=>{n&&(h(n.nome||""),x(n.oab||""),b(n.telefone||""))},[n]),!e)return null;const S=async()=>{d(!0),j({tipo:"",texto:""});try{await s({nome:g,oab:p,telefone:_}),j({tipo:"sucesso",texto:"Perfil salvo!"})}catch{j({tipo:"erro",texto:"Erro ao salvar"})}d(!1)},k=async E=>{try{console.log(" Removendo fundo da logo...");const W=await(await l("https://blasterskd.com.br/api/remover-fundo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({logo:E})})).json();if(W.success&&W.logoSemFundo)return console.log(" Fundo removido com sucesso!"),"data:image/png;base64,"+W.logoSemFundo;throw new Error(W.error||"Falha ao remover fundo")}catch(U){throw console.error(" Erro ao remover fundo:",U),U}},O=async(E,U=!1)=>{var ce;const W=(ce=E.target.files)==null?void 0:ce[0];if(W){if(W.size>2*1024*1024){j({tipo:"erro",texto:"Mximo 2MB"});return}f(!0),j({tipo:"",texto:""});try{if(U){m(!0),j({tipo:"",texto:"Removendo fundo..."});const G=await new Promise((Fe,lr)=>{const A=new FileReader;A.onload=()=>Fe(A.result.split(",")[1]),A.onerror=lr,A.readAsDataURL(W)}),ot=await k(G);await s({logo_url:ot}),j({tipo:"sucesso",texto:"Logo atualizada (sem fundo)!"})}else await i(W),j({tipo:"sucesso",texto:"Logo atualizada!"})}catch(G){console.error("Erro no handleLogo:",G),j({tipo:"erro",texto:"Erro: "+(G.message||"Falha no upload")})}f(!1),m(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-slate-800 rounded-2xl w-full max-w-md overflow-hidden border border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[o.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[o.jsx(uf,{className:"w-5 h-5 text-amber-400"}),"Meu Perfil"]}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-700 rounded-lg",children:o.jsx(wn,{className:"w-5 h-5 text-slate-400"})})]}),o.jsxs("div",{className:"p-6 space-y-5",children:[w.texto&&o.jsxs("div",{className:`p-3 rounded-lg text-sm flex items-center gap-2 ${w.tipo==="sucesso"?"bg-green-500/10 text-green-400":"bg-red-500/10 text-red-400"}`,children:[w.tipo==="sucesso"?o.jsx(af,{className:"w-4 h-4"}):o.jsx(nf,{className:"w-4 h-4"}),w.texto]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"w-20 h-20 rounded-xl bg-slate-700 border-2 border-slate-600 overflow-hidden flex items-center justify-center",children:[n!=null&&n.logo_url?o.jsx("img",{src:n.logo_url,alt:"Logo",className:"w-full h-full object-contain"}):o.jsx(gc,{className:"w-8 h-8 text-slate-500"}),v&&o.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:o.jsx(Ue,{className:"w-6 h-6 text-white animate-spin"})})]})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-white font-medium mb-1",children:"Logo"}),o.jsx("p",{className:"text-slate-400 text-xs mb-2",children:"PNG ou JPG, mx 2MB"}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("input",{ref:u,type:"file",accept:"image/*",onChange:E=>O(E,!1),className:"hidden",id:"logo-normal"}),o.jsx("input",{type:"file",accept:"image/*",onChange:E=>O(E,!0),className:"hidden",id:"logo-sem-fundo"}),o.jsxs("button",{onClick:()=>{var E;return(E=u.current)==null?void 0:E.click()},disabled:v,className:"flex items-center justify-center gap-2 px-3 py-1.5 bg-slate-700 hover:bg-slate-600 rounded-lg text-sm text-white transition-colors disabled:opacity-50",children:[o.jsx(gc,{className:"w-4 h-4"}),"Upload Normal"]}),o.jsxs("button",{onClick:()=>{var E;return(E=document.getElementById("logo-sem-fundo"))==null?void 0:E.click()},disabled:v,className:"flex items-center justify-center gap-2 px-3 py-1.5 bg-purple-600 hover:bg-purple-500 rounded-lg text-sm text-white transition-colors disabled:opacity-50",children:[y?o.jsx(Ue,{className:"w-4 h-4 animate-spin"}):o.jsx(Wl,{className:"w-4 h-4"}),y?"Removendo...":"Remover Fundo "]})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1.5",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(of,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),o.jsx("input",{value:(r==null?void 0:r.email)||"",readOnly:!0,className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-4 py-2.5 text-slate-400"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1.5",children:"Nome"}),o.jsx("input",{value:g,onChange:E=>h(E.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-amber-400 outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1.5",children:"OAB"}),o.jsx("input",{value:p,onChange:E=>x(E.target.value),placeholder:"OAB/SP 123456",className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-amber-400 outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1.5",children:"Telefone"}),o.jsx("input",{value:_,onChange:E=>b(E.target.value),placeholder:"(11) 99999-9999",className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-amber-400 outline-none"})]}),o.jsxs("div",{className:"pt-3 border-t border-slate-700 text-slate-400 text-sm",children:[o.jsx(cn,{className:"w-4 h-4 inline mr-2"}),a.length," imagens geradas"]}),o.jsxs("button",{onClick:S,disabled:c,className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-medium py-3 rounded-lg flex items-center justify-center gap-2",children:[c?o.jsx(Ue,{className:"w-5 h-5 animate-spin"}):o.jsx(j0,{className:"w-5 h-5"}),c?"Salvando...":"Salvar"]})]})]})})}function fy({template:e}){const t="w-14 h-24 rounded shadow-lg overflow-hidden flex flex-col relative shrink-0 border border-slate-700 bg-slate-900";return e==="voce-sabia"?o.jsxs("div",{className:t,children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-900 to-slate-950 opacity-50"}),o.jsx("div",{className:"z-10 mt-3 text-[10px] text-center",children:""}),o.jsx("div",{className:"z-10 mt-1 h-2 bg-amber-500/30 mx-2 rounded-full"}),o.jsx("div",{className:"z-10 mt-2 h-6 bg-white/5 mx-2 rounded border-l-2 border-amber-500"}),o.jsx("div",{className:"z-10 mt-auto mb-2 h-3 bg-amber-500/80 mx-2 rounded-sm"})]}):e==="bullets"?o.jsxs("div",{className:t,children:[o.jsx("div",{className:"absolute inset-0 bg-slate-900"}),o.jsx("div",{className:"z-10 mt-2 ml-2 h-2 w-8 bg-amber-500/60 rounded-full"}),o.jsx("div",{className:"z-10 mt-2 h-2 bg-white/40 mx-2 rounded-full"}),o.jsx("div",{className:"z-10 mt-3 space-y-1.5 px-2",children:[1,2,3].map(r=>o.jsxs("div",{className:"flex gap-1 items-center",children:[o.jsx("div",{className:"w-2 h-2 rounded-sm bg-amber-500/40"}),o.jsx("div",{className:"flex-1 h-1 bg-white/20 rounded-full"})]},r))}),o.jsx("div",{className:"z-10 mt-auto mb-2 h-4 bg-gradient-to-r from-amber-500 to-amber-600 mx-2 rounded-sm"})]}):e==="estatistica"?o.jsxs("div",{className:t,children:[o.jsx("div",{className:"absolute inset-0 bg-zinc-900"}),o.jsx("div",{className:"z-10 mt-2 ml-2 h-1.5 w-6 bg-amber-500/40 rounded-full"}),o.jsxs("div",{className:"z-10 mt-3 flex flex-col items-center",children:[o.jsx("div",{className:"text-[14px] font-bold text-amber-500 leading-none",children:"80%"}),o.jsx("div",{className:"h-1 w-8 bg-zinc-700 rounded-full mt-1"})]}),o.jsx("div",{className:"z-10 mt-3 h-5 bg-white/5 mx-2 rounded"}),o.jsxs("div",{className:"z-10 mt-auto mb-2 px-2 flex justify-between items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500/20"}),o.jsx("div",{className:"w-4 h-1 bg-amber-500/40 rounded-full"})]})]}):e==="urgente"?o.jsxs("div",{className:t,children:[o.jsx("div",{className:"absolute inset-0 bg-stone-950"}),o.jsx("div",{className:"z-10 mt-2 ml-2 h-3 w-10 bg-red-600 rounded-sm"}),o.jsx("div",{className:"z-10 mt-2 h-2 bg-white/90 mx-2 rounded-full"}),o.jsx("div",{className:"z-10 mt-2 h-8 border-2 border-red-600 mx-2 rounded-lg flex items-center justify-center",children:o.jsx("div",{className:"h-4 w-4 rounded-full bg-red-600/20"})}),o.jsx("div",{className:"z-10 mt-auto mb-2 h-4 bg-red-600 mx-2 rounded-sm"})]}):e==="premium"?o.jsxs("div",{className:t,children:[o.jsx("div",{className:"absolute inset-0 bg-slate-950"}),o.jsxs("div",{className:"z-10 mt-3 flex items-center gap-1 px-2",children:[o.jsx("div",{className:"w-3 h-3 bg-amber-500/40 rounded-sm"}),o.jsx("div",{className:"h-1 flex-1 bg-white/20 rounded-full"})]}),o.jsx("div",{className:"z-10 mt-2 mx-2 h-[1px] bg-amber-500/20"}),o.jsx("div",{className:"z-10 mt-3 h-3 bg-white/40 mx-2 rounded-full"}),o.jsx("div",{className:"z-10 mt-2 h-10 bg-amber-500/5 mx-2 border border-amber-500/20 rounded"}),o.jsx("div",{className:"z-10 mt-auto mb-2 flex justify-end p-2",children:o.jsx("div",{className:"w-4 h-4 rounded-full bg-amber-500"})})]}):o.jsx("div",{className:t})}function py({tipo:e,formato:t="feed",conteudo:r,usuario:n,modoCompleto:s=!1,imagemPreview:i=null,onPublicar:a=null,onVisualizarImagem:l=null,loadingImagem:u=!1}){const[c,d]=C.useState(!1);if(!r)return null;const v=k=>{const O=k.split(`
`),E=[],U=[];return O.forEach(W=>{W.trim().startsWith("#")||W.includes("#")&&W.split("#").length>3?E.push(W.trim()):U.push(W)}),{texto:U.join(`
`).trim(),hashtags:E.join(" ")}},f=k=>{const O=k.replace(/#\w+/g,"").trim(),E=O.substring(0,125),U=O.length>125;return{gancho:E,temMais:U,total:O.length}},{texto:y,hashtags:m}=v(r),{gancho:w,temMais:j}=f(y),g=()=>{var k;return console.log(" [PREVIEW STORIES] Renderizando com imagemPreview:",i?"POSSUI":"NULL"),o.jsxs("div",{className:"bg-black rounded-2xl overflow-hidden w-[280px] mx-auto shadow-2xl aspect-[9/16] relative border border-slate-800",children:[o.jsx("div",{className:"absolute inset-0 z-0",children:i?o.jsx("img",{src:i,alt:"Stories",className:"w-full h-full object-cover",onLoad:()=>console.log(" [IMG] Stories carregado!")}):o.jsx("div",{className:"w-full h-full bg-slate-900 flex flex-col items-center justify-center p-6 text-center",children:u?o.jsxs("div",{className:"space-y-4 animate-pulse",children:[o.jsx("div",{className:"w-16 h-16 bg-amber-500/20 rounded-full flex items-center justify-center mx-auto",children:o.jsx(Ue,{className:"w-8 h-8 text-amber-500 animate-spin"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-amber-500 font-bold text-lg",children:"Criando sua arte profissional..."}),o.jsx("p",{className:"text-slate-400 text-sm italic",children:"Isso leva cerca de 5 segundos"})]})]}):o.jsxs("div",{className:"space-y-2 opacity-30",children:[o.jsx(li,{className:"w-12 h-12 mx-auto text-white"}),o.jsx("p",{className:"text-white text-sm",children:"Aguardando gerao..."})]})})}),o.jsx("div",{className:"absolute top-0 left-0 right-0 p-4 z-20 flex items-center justify-between pointer-events-none bg-gradient-to-b from-black/40 to-transparent",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-yellow-400 to-fuchsia-600 p-[2px]",children:o.jsx("div",{className:"w-full h-full rounded-full bg-white flex items-center justify-center",children:o.jsx("span",{className:"text-[10px] font-bold text-slate-700",children:((k=n==null?void 0:n.nome)==null?void 0:k[0])||"A"})})}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-white text-[11px] font-bold leading-none",children:(n==null?void 0:n.usuario)||"advogado"}),o.jsx("span",{className:"text-white/70 text-[9px]",children:"2h"})]})]})}),o.jsx("div",{className:"absolute bottom-6 left-0 right-0 p-4 z-20 flex flex-col items-center pointer-events-none",children:o.jsxs("div",{className:"flex flex-col items-center opacity-70",children:[o.jsx(f0,{className:"w-4 h-4 text-white animate-bounce mb-[-4px]"}),o.jsx("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 px-4 py-1.5 rounded-full text-white text-[10px] font-bold uppercase tracking-wider",children:"Ver mais"})]})}),o.jsx("div",{className:"absolute top-12 right-4 z-20 pointer-events-none",children:o.jsx("span",{className:"bg-black/20 backdrop-blur-sm px-2 py-0.5 rounded text-[10px] text-white/80 font-medium",children:t==="reels"?"Reels":"Story"})})]})},h=()=>{var k,O,E;return o.jsxs("div",{className:"bg-white rounded-xl overflow-hidden max-w-[360px] mx-auto shadow-2xl",children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 border-b border-gray-100",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-amber-400 via-pink-500 to-purple-600 p-0.5",children:o.jsx("div",{className:"w-full h-full rounded-full bg-white flex items-center justify-center",children:o.jsx("span",{className:"text-xs font-bold text-gray-700",children:((k=n==null?void 0:n.nome)==null?void 0:k[0])||"A"})})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900",children:((O=n==null?void 0:n.nome)==null?void 0:O.toLowerCase().replace(/\s+/g,""))||"advogado"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Patrocinado"})]}),o.jsxs("svg",{className:"w-5 h-5 text-gray-900",fill:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("circle",{cx:"12",cy:"6",r:"1.5"}),o.jsx("circle",{cx:"12",cy:"12",r:"1.5"}),o.jsx("circle",{cx:"12",cy:"18",r:"1.5"})]})]}),o.jsx("div",{className:"aspect-square bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center overflow-hidden relative group",children:i?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:i,alt:"Imagem do post",className:"w-full h-full object-cover"}),l&&o.jsx("button",{onClick:l,className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all cursor-pointer",children:o.jsx("div",{className:"bg-white/90 rounded-full p-3 shadow-lg transform scale-90 group-hover:scale-100 transition-transform",children:o.jsx(Ws,{className:"w-6 h-6 text-gray-700"})})})]}):o.jsxs("div",{className:"text-center p-6",children:[o.jsx(cn,{className:"w-12 h-12 text-slate-400 mx-auto mb-2"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Sua imagem aqui"}),o.jsx("p",{className:"text-xs text-slate-400 mt-1",children:'Clique em "Imagem"'})]})}),o.jsxs("div",{className:"p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("svg",{className:"w-6 h-6 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),o.jsx("svg",{className:"w-6 h-6 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),o.jsx("svg",{className:"w-6 h-6 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})})]}),o.jsx("svg",{className:"w-6 h-6 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})]}),o.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-1",children:"1.234 curtidas"}),o.jsxs("div",{className:"text-sm text-gray-900",children:[o.jsxs("span",{className:"font-semibold",children:[((E=n==null?void 0:n.nome)==null?void 0:E.toLowerCase().replace(/\s+/g,""))||"advogado"," "]}),c?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"whitespace-pre-line",children:y}),m&&o.jsx("span",{className:"text-blue-900 block mt-2",children:m}),o.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 block mt-1",children:"...menos"})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"whitespace-pre-line",children:w}),j&&o.jsxs("span",{className:"text-gray-400 ml-1 cursor-pointer hover:text-gray-600",onClick:()=>d(!0),children:["... ",o.jsx("span",{className:"underline",children:"mais"})]})]})]}),!c&&o.jsxs("div",{className:`mt-2 text-xs px-2 py-1 rounded-full inline-flex items-center gap-1 ${w.length<=125?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:[o.jsx("span",{className:"font-medium",children:"Gancho:"})," ",w.length,"/125 caracteres",w.length<=125?" ":" (ideal: at 125)"]}),!c&&m&&o.jsx("p",{className:"text-sm text-blue-900 mt-2 line-clamp-1",children:m}),o.jsx("p",{className:"text-xs text-gray-400 mt-2 uppercase",children:"H 2 horas"})]})]})},p=()=>{var k;return o.jsxs("div",{className:"bg-white rounded-xl overflow-hidden max-w-[400px] mx-auto shadow-2xl",children:[o.jsxs("div",{className:"flex items-center gap-3 p-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center",children:o.jsx("span",{className:"text-sm font-bold text-white",children:((k=n==null?void 0:n.nome)==null?void 0:k[0])||"A"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900",children:(n==null?void 0:n.nome)||"Advogado"}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[o.jsx("span",{children:"2 h"}),o.jsx("span",{children:""}),o.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"})})]})]}),o.jsxs("svg",{className:"w-6 h-6 text-gray-500",fill:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("circle",{cx:"12",cy:"6",r:"2"}),o.jsx("circle",{cx:"12",cy:"12",r:"2"}),o.jsx("circle",{cx:"12",cy:"18",r:"2"})]})]}),o.jsxs("div",{className:"px-3 pb-3",children:[o.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-line",children:y}),m&&o.jsx("p",{className:"text-sm text-blue-600 mt-2",children:m})]}),o.jsx("div",{className:"aspect-video bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center overflow-hidden relative group",children:i?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:i,alt:"Imagem do post",className:"w-full h-full object-cover"}),l&&o.jsx("button",{onClick:l,className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all cursor-pointer",children:o.jsx("div",{className:"bg-white/90 rounded-full p-3 shadow-lg transform scale-90 group-hover:scale-100 transition-transform",children:o.jsx(Ws,{className:"w-6 h-6 text-gray-700"})})})]}):o.jsxs("div",{className:"text-center p-6",children:[o.jsx(cn,{className:"w-12 h-12 text-slate-400 mx-auto mb-2"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Sua imagem aqui"})]})}),o.jsxs("div",{className:"p-3 border-t border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsxs("div",{className:"flex -space-x-1",children:[o.jsx("span",{className:"text-sm",children:""}),o.jsx("span",{className:"text-sm",children:""}),o.jsx("span",{className:"text-sm",children:""})]}),o.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"256"})]}),o.jsxs("div",{className:"text-sm text-gray-500",children:[o.jsx("span",{children:"42 comentrios"}),o.jsx("span",{className:"mx-1",children:""}),o.jsx("span",{children:"18 compartilhamentos"})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-1 pt-2 border-t border-gray-100",children:[o.jsxs("button",{className:"flex items-center justify-center gap-2 py-2 text-gray-600 hover:bg-gray-50 rounded-lg",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})}),o.jsx("span",{className:"text-sm font-medium",children:"Curtir"})]}),o.jsxs("button",{className:"flex items-center justify-center gap-2 py-2 text-gray-600 hover:bg-gray-50 rounded-lg",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),o.jsx("span",{className:"text-sm font-medium",children:"Comentar"})]}),o.jsxs("button",{className:"flex items-center justify-center gap-2 py-2 text-gray-600 hover:bg-gray-50 rounded-lg",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),o.jsx("span",{className:"text-sm font-medium",children:"Enviar"})]})]})]})]})},x=()=>{var E,U;const O=(W=>{const ce=W.match(/LEGENDA[:\s]*([\s\S]*?)(?:---|$)/i);return ce?ce[1].trim():W.split(`
`).filter(ot=>ot.trim()).slice(-3).join(" ").substring(0,150)})(r);return o.jsxs("div",{className:"bg-black rounded-2xl overflow-hidden max-w-[280px] mx-auto shadow-2xl aspect-[9/16] relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-800 via-slate-900 to-black flex items-center justify-center group",children:i?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:i,alt:"Thumbnail do vdeo",className:"w-full h-full object-cover"}),l&&o.jsx("button",{onClick:l,className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all cursor-pointer z-10",children:o.jsx("div",{className:"bg-white/90 rounded-full p-3 shadow-lg transform scale-90 group-hover:scale-100 transition-transform",children:o.jsx(Ws,{className:"w-6 h-6 text-gray-700"})})})]}):o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-white/10 flex items-center justify-center mx-auto mb-3",children:o.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M8 5v14l11-7z"})})}),o.jsx("p",{className:"text-white/60 text-xs",children:"Seu vdeo aqui"})]})}),!i&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),o.jsxs("div",{className:"absolute right-3 bottom-32 flex flex-col items-center gap-5",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-11 h-11 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center border-2 border-white",children:o.jsx("span",{className:"text-sm font-bold text-white",children:((E=n==null?void 0:n.nome)==null?void 0:E[0])||"A"})}),o.jsx("div",{className:"absolute -bottom-1.5 left-1/2 -translate-x-1/2 w-5 h-5 rounded-full bg-red-500 flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"+"})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:o.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})})}),o.jsx("span",{className:"text-white text-xs font-medium",children:"45.2K"})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:o.jsx("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"})})}),o.jsx("span",{className:"text-white text-xs font-medium",children:"892"})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:o.jsx("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2z"})})}),o.jsx("span",{className:"text-white text-xs font-medium",children:"12.3K"})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:o.jsx("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z"})})}),o.jsx("span",{className:"text-white text-xs font-medium",children:"3.1K"})]}),o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-800 to-gray-900 border-2 border-gray-700 flex items-center justify-center animate-spin",style:{animationDuration:"3s"},children:o.jsx("div",{className:"w-4 h-4 rounded-full bg-gradient-to-br from-amber-400 to-amber-600"})})]}),!i&&o.jsxs("div",{className:"absolute bottom-4 left-3 right-16",children:[o.jsxs("p",{className:"text-white font-semibold text-sm mb-1",children:["@",((U=n==null?void 0:n.nome)==null?void 0:U.toLowerCase().replace(/\s+/g,"_"))||"advogado"]}),o.jsx("p",{className:"text-white text-xs leading-relaxed line-clamp-3",children:O}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"})}),o.jsxs("p",{className:"text-white text-xs",children:["Som original - ",(n==null?void 0:n.nome)||"Advogado"]})]})]})]})},_=()=>{switch(e){case"post-instagram":return t==="stories"||t==="reels"?o.jsx(g,{}):o.jsx(h,{});case"post-facebook":return t==="stories"?o.jsx(b,{}):o.jsx(p,{});case"post-tiktok":return o.jsx(x,{});default:return null}},b=()=>{var k;return o.jsxs("div",{className:"bg-black rounded-2xl overflow-hidden max-w-[280px] mx-auto shadow-2xl aspect-[9/16] relative",children:[o.jsx("div",{className:"absolute inset-0",children:i?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:i,alt:"Stories",className:"w-full h-full object-cover"}),l&&o.jsx("button",{onClick:l,className:"absolute inset-0 bg-black/0 hover:bg-black/30 flex items-center justify-center opacity-0 hover:opacity-100 transition-all cursor-pointer z-10",children:o.jsx("div",{className:"bg-white/90 rounded-full p-3 shadow-lg",children:o.jsx(Ws,{className:"w-6 h-6 text-gray-700"})})})]}):o.jsx("div",{className:"w-full h-full bg-slate-900 flex flex-col items-center justify-center p-6 text-center",children:u?o.jsxs("div",{className:"space-y-4 animate-pulse",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto",children:o.jsx(Ue,{className:"w-8 h-8 text-blue-500 animate-spin"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-blue-500 font-bold text-lg",children:"Criando sua arte profissional..."}),o.jsx("p",{className:"text-slate-400 text-sm italic",children:"Isso leva cerca de 5 segundos"})]})]}):o.jsxs("div",{className:"space-y-2 opacity-30",children:[o.jsx(cn,{className:"w-12 h-12 mx-auto text-white/50"}),o.jsx("p",{className:"text-white/50 text-sm",children:"Aguardando gerao..."})]})})}),o.jsx("div",{className:"absolute top-0 left-0 right-0 p-3 bg-gradient-to-b from-black/50 to-transparent z-20",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center border-2 border-blue-400",children:o.jsx("span",{className:"text-sm font-bold text-white",children:((k=n==null?void 0:n.nome)==null?void 0:k[0])||"A"})}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white text-sm font-medium block",children:(n==null?void 0:n.nome)||"Advogado"}),o.jsx("span",{className:"text-white/60 text-xs",children:"2h atrs"})]})]})}),!i&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 via-black/40 to-transparent z-20",children:o.jsxs("p",{className:"text-white text-sm leading-relaxed line-clamp-4",children:[w,j&&"..."]})}),o.jsx("div",{className:"absolute top-14 left-0 right-0 flex justify-center z-20",children:o.jsx("span",{className:"bg-blue-500/80 backdrop-blur-sm px-3 py-1 rounded-full text-white text-xs font-medium",children:" Stories"})})]})},S=()=>{var ce,G;const k=r.split(`
`),O=k[0],E=k.slice(1).join(`
`),U=((ce=E.match(/#\w+/g))==null?void 0:ce.join(" "))||"",W=E.replace(/#\w+/g,"").trim();return o.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-[500px] mx-auto shadow-xl",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-gray-100",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center",children:o.jsx("span",{className:"text-lg font-bold text-white",children:((G=n==null?void 0:n.nome)==null?void 0:G[0])||"A"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-900",children:(n==null?void 0:n.nome)||"Advogado"}),o.jsx("p",{className:"text-sm text-gray-500",children:e==="post-linkedin"?"LinkedIn":e==="artigo"?"Blog/Artigo":e==="thread"?"Thread X":"Post"})]})]}),o.jsxs("div",{className:"text-gray-800",children:[o.jsx("p",{className:"font-semibold text-lg mb-3",children:O}),o.jsx("p",{className:"whitespace-pre-line leading-relaxed text-gray-600",children:W})]}),U&&o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:o.jsx("p",{className:"text-blue-600 text-sm",children:U})})]})};return s?["post-instagram","post-facebook","post-tiktok"].includes(e)?o.jsxs("div",{className:"flex flex-col items-center relative",children:[_(),u&&o.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-50 rounded-xl",children:o.jsxs("div",{className:"bg-white/90 px-4 py-2 rounded-full shadow-lg flex items-center gap-2",children:[o.jsx(Ue,{className:"w-4 h-4 animate-spin text-amber-500"}),o.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Criando imagem..."})]})}),o.jsx("p",{className:"text-xs text-slate-500 text-center mt-4",children:'* Simulao de como ficar o post. Clique em "mais" para expandir.'})]}):o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(S,{}),o.jsx("p",{className:"text-xs text-slate-500 text-center mt-4",children:"* Preview do contedo formatado."})]}):["post-instagram","post-facebook","post-tiktok"].includes(e)?o.jsx("div",{className:"mt-6",children:o.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-700",children:[o.jsx("div",{className:"text-center mb-4",children:o.jsxs("span",{className:"text-xs text-slate-400 uppercase tracking-wider",children:["Pr-visualizao - ",e==="post-instagram"?"Instagram":e==="post-facebook"?"Facebook":"TikTok"]})}),_(),u&&o.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center z-50 rounded-xl pointer-events-none",children:o.jsxs("div",{className:"bg-white/90 px-4 py-2 rounded-full shadow-lg flex items-center gap-2",children:[o.jsx(Ue,{className:"w-4 h-4 animate-spin text-amber-500"}),o.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Criando imagem..."})]})}),o.jsx("p",{className:"text-xs text-slate-500 text-center mt-4",children:"* Esta  uma simulao. O visual real pode variar."})]})}):null}function my({onSelectTema:e,areaAtuacao:t}){const[r,n]=C.useState([]),[s,i]=C.useState(!0),[a,l]=C.useState(null),[u,c]=C.useState(!1),[d,v]=C.useState(!1),[f,y]=C.useState(10),[m,w]=C.useState(null),j=async()=>{try{const h=await fetch("https://blasterskd.com.br/api/n8n/webhook/trending-juridico-manual");if(h.ok){const p=await h.json();n(p.trending||[]),l(p.dataAtualizacao),w(p.fonte||null),localStorage.setItem("trending-juridico-cache",JSON.stringify({trending:p.trending,dataAtualizacao:p.dataAtualizacao,fonte:p.fonte,cachedAt:new Date().toISOString()}))}}catch(h){console.log("Erro ao carregar trending:",h);const p=localStorage.getItem("trending-juridico-cache");if(p){const x=JSON.parse(p);n(x.trending||[]),l(x.dataAtualizacao),w(x.fonte||null)}}finally{i(!1)}},g=async()=>{c(!0);try{const h=await fetch("https://blasterskd.com.br/api/n8n/webhook/trending-juridico-manual");if(h.ok){const p=await h.json();n(p.trending||[]),l(p.dataAtualizacao),w(p.fonte||null),localStorage.setItem("trending-juridico-cache",JSON.stringify({trending:p.trending,dataAtualizacao:p.dataAtualizacao,fonte:p.fonte,cachedAt:new Date().toISOString()}))}}catch(h){console.log("Erro ao atualizar:",h)}finally{c(!1)}};return C.useEffect(()=>{j()},[]),C.useEffect(()=>{if(s&&f>0){const h=setTimeout(()=>y(f-1),1e3);return()=>clearTimeout(h)}},[s,f]),s?o.jsx("div",{className:"bg-gradient-to-r from-orange-500/10 via-amber-500/10 to-yellow-500/10 backdrop-blur rounded-xl p-4 border border-amber-500/30 mb-6",children:o.jsxs("div",{className:"flex items-center justify-center gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Ue,{className:"w-6 h-6 text-amber-400 animate-spin"}),o.jsx("div",{className:"absolute inset-0 bg-amber-400/20 rounded-full blur-md animate-pulse"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"text-slate-300 text-sm block",children:"Buscando temas em alta..."}),o.jsxs("div",{className:"flex items-center justify-center gap-2 mt-1",children:[o.jsx("div",{className:"w-16 h-1.5 bg-slate-700 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-amber-400 to-orange-500 transition-all duration-1000",style:{width:`${(10-f)*10}%`}})}),o.jsxs("span",{className:"text-xs text-amber-400 font-mono",children:[f,"s"]})]})]})]})}):o.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-slate-800/80 via-slate-800/60 to-slate-900/80 backdrop-blur-xl rounded-xl border border-amber-500/40 mb-6 shadow-lg shadow-amber-500/5",children:[o.jsxs("div",{className:"relative flex items-center justify-between px-4 py-3 cursor-pointer hover:bg-slate-700/30 transition-colors",onClick:()=>v(!d),children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"bg-gradient-to-br from-amber-400 to-orange-500 p-1.5 rounded-lg",children:o.jsx(y0,{className:"w-4 h-4 text-white"})}),o.jsxs("h3",{className:"text-sm font-semibold text-white flex items-center gap-1.5",children:["Temas em Alta",o.jsx(Wl,{className:"w-3 h-3 text-amber-400"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:h=>{h.stopPropagation(),g()},disabled:u,className:"p-1.5 text-slate-400 hover:text-amber-400 hover:bg-slate-700/50 rounded-lg transition-all disabled:opacity-50",title:"Atualizar temas",children:o.jsx(S0,{className:`w-3.5 h-3.5 ${u?"animate-spin":""}`})}),o.jsx("div",{className:`transform transition-transform duration-300 ${d?"rotate-180":""}`,children:o.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),o.jsx("div",{className:`transition-all duration-400 ease-out overflow-hidden ${d?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"}`,children:o.jsxs("div",{className:"px-4 pb-4",children:[o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:r.map((h,p)=>o.jsxs("div",{className:"group relative overflow-hidden bg-slate-900/50 hover:bg-slate-800/80 border border-slate-700/50 hover:border-amber-500/50 rounded-lg p-3 text-left transition-all duration-300 hover:shadow-md hover:shadow-amber-500/10",children:[o.jsxs("span",{className:`absolute top-2 right-2 text-[10px] font-bold px-1.5 py-0.5 rounded-full ${p===0?"bg-amber-500/20 text-amber-400":p===1?"bg-slate-500/20 text-slate-300":"bg-orange-500/20 text-orange-400"}`,children:["#",p+1]}),o.jsx("div",{className:"text-xl mb-1.5 group-hover:scale-110 transition-transform duration-300",children:h.icone||""}),o.jsx("h4",{className:"font-medium text-xs text-white group-hover:text-amber-400 transition-colors line-clamp-2 leading-tight mb-1 pr-6",children:h.tema}),h.descricao&&o.jsx("p",{className:"text-[9px] text-slate-400 line-clamp-2 mb-1.5 leading-relaxed",children:h.descricao}),o.jsxs("div",{className:"flex items-center gap-1 flex-wrap mb-2",children:[o.jsx("span",{className:"text-[10px] bg-slate-700/50 text-slate-400 px-1.5 py-0.5 rounded-full",children:h.area}),h.data&&o.jsxs("span",{className:"text-[10px] bg-green-500/20 text-green-400 px-1.5 py-0.5 rounded-full flex items-center gap-0.5",children:[o.jsx(sf,{className:"w-2.5 h-2.5"}),h.data]})]}),o.jsxs("div",{className:"flex items-center gap-1 pt-2 border-t border-slate-700/30",children:[o.jsx("button",{onClick:()=>e(h.tema,h.area),className:"flex-1 text-[10px] bg-amber-500/20 hover:bg-amber-500/30 text-amber-400 px-2 py-1 rounded transition-colors",children:"Usar tema"}),h.link&&o.jsx("a",{href:h.link,target:"_blank",rel:"noopener noreferrer",onClick:x=>x.stopPropagation(),className:"p-1 bg-slate-700/50 hover:bg-slate-600/50 text-slate-400 hover:text-white rounded transition-colors",title:"Ver notcia original",children:o.jsx(vc,{className:"w-3 h-3"})})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-amber-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]},p))}),m&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-700/50 flex items-center justify-between",children:[o.jsxs("span",{className:"text-[10px] text-slate-500",children:["Fonte: ",m.nome]}),o.jsxs("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",onClick:h=>h.stopPropagation(),className:"flex items-center gap-1 text-[10px] text-amber-400/70 hover:text-amber-400 transition-colors",children:[o.jsx(vc,{className:"w-3 h-3"}),"Ver notcias"]})]})]})})]})}function gy(){var f,y;const{fetchAuth:e,perfil:t}=kn(),[r,n]=C.useState(null),[s,i]=C.useState(null),[a,l]=C.useState(!1),[u,c]=C.useState(!1);C.useEffect(()=>{(async()=>{try{let w;try{w=localStorage.getItem("perfil-visual-advogado")}catch{console.log("Acesso ao localStorage bloqueado")}w&&n(JSON.parse(w))}catch(w){console.log("Erro ao carregar perfil visual:",w)}})()},[]);const d=async m=>{const w=m.target.files[0];if(!w||!w.type.startsWith("image/"))return;i(URL.createObjectURL(w)),l(!0);const j=new FileReader;j.onload=async g=>{var h;try{const p=g.target.result.split(",")[1];console.log(" Enviando logo para anlise...");const x=await e("https://blasterskd.com.br/api/analisar-logo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({logo:p})});if(!x.ok){const k=await x.json();throw new Error(k.details||"Erro ao analisar logo")}const _=await x.json();console.log(" Resposta da anlise:",_);const b=_.perfil_visual;if(!b)throw new Error("Perfil visual no retornado");console.log(" Cores extradas:"),console.log("   - Cores principais:",b.cores_principais),console.log("   - Cor primria:",b.cor_primaria),console.log("   - Cor secundria:",b.cor_secundaria),console.log("   - Cor acento:",b.cor_acento),console.log("   - Estilo:",b.estilo_visual);try{localStorage.setItem("perfil-visual-advogado",JSON.stringify(b))}catch{console.log("No foi possvel salvar no localStorage (acesso negado)")}n(b);const S=((h=b.cores_principais)==null?void 0:h.slice(0,3).join(", "))||"no identificadas";alert(` Logo analisada!

Cores: ${S}
Estilo: ${b.estilo_visual||"clssico"}

Suas imagens usaro essas cores!`)}catch(p){console.error(" Erro na anlise:",p),alert("Erro ao analisar logo: "+p.message)}finally{l(!1)}},j.onerror=()=>{console.error(" Erro ao ler arquivo"),alert("Erro ao ler arquivo da logo"),l(!1)},j.readAsDataURL(w)},v=()=>{if(confirm("Remover identidade visual?")){try{localStorage.removeItem("perfil-visual-advogado")}catch{console.log("Erro ao limpar localStorage")}n(null),i(null)}};return o.jsxs("div",{className:"bg-slate-800/50 backdrop-blur rounded-xl p-6 border border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[o.jsx(lf,{className:"w-5 h-5 text-amber-400"}),"Identidade Visual"]}),o.jsx("button",{onClick:()=>c(!u),className:"text-sm text-amber-400 hover:text-amber-300 transition-colors",children:u?"Ocultar":"Configurar"})]}),u&&o.jsxs("div",{className:"space-y-4",children:[!r&&o.jsxs("div",{className:"relative border-2 border-dashed border-slate-600 rounded-lg p-8 hover:border-amber-400 transition-colors",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:d,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:a}),o.jsx("div",{className:"text-center",children:a?o.jsxs("div",{className:"flex flex-col items-center gap-3",children:[o.jsx(Ue,{className:"w-10 h-10 text-amber-400 animate-spin"}),o.jsx("p",{className:"text-slate-300 text-sm",children:"Analisando logo..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Ii,{className:"w-10 h-10 text-slate-400 mx-auto mb-3"}),o.jsx("p",{className:"text-slate-300 text-sm",children:"Arraste sua logo aqui"}),o.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"PNG, JPG  Mx 5MB"})]})})]}),r&&o.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-amber-500/30",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ps,{className:"w-5 h-5 text-green-400"}),o.jsx("span",{className:"text-sm font-semibold text-green-400",children:"Logo analisada!"})]}),o.jsx("button",{onClick:v,className:"text-slate-400 hover:text-red-400",children:o.jsx(wn,{className:"w-4 h-4"})})]}),s&&o.jsx("div",{className:"mb-4 flex justify-center",children:o.jsx("img",{src:s,alt:"Logo",className:"max-h-24 rounded"})}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Cores:"}),o.jsx("div",{className:"flex gap-2 mt-2",children:(f=r.cores_principais)==null?void 0:f.map((m,w)=>o.jsxs("div",{className:"flex flex-col items-center gap-1",children:[o.jsx("div",{className:"w-14 h-14 rounded-lg border-2 border-slate-600",style:{backgroundColor:m}}),o.jsx("span",{className:"text-xs text-slate-500",children:m})]},w))})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"text-slate-400",children:"Estilo:"}),o.jsx("span",{className:"text-white",children:r.estilo_visual})]})]}),o.jsx("div",{className:"mt-4 p-3 bg-amber-500/10 rounded-lg border border-amber-500/30",children:o.jsx("p",{className:"text-xs text-amber-400",children:" Suas imagens usaro as cores da sua marca!"})})]})]}),!u&&r&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ps,{className:"w-4 h-4 text-green-400"}),o.jsx("div",{className:"flex gap-1.5",children:(y=r.cores_principais)==null?void 0:y.slice(0,3).map((m,w)=>o.jsx("div",{className:"w-7 h-7 rounded border-2 border-slate-600",style:{backgroundColor:m}},w))}),o.jsx("span",{className:"text-sm text-slate-300",children:r.estilo_visual})]})]})}function vy({user:e,onSaveLogo:t,onClose:r}){const[n,s]=C.useState(e.logo||null),[i,a]=C.useState(e.logo||null),[l,u]=C.useState(!1),c=f=>{const y=f.target.files[0];if(!y)return;if(!y.type.startsWith("image/")){alert(" Apenas imagens so permitidas");return}if(y.size>2*1024*1024){alert(" Imagem muito grande! Mximo 2MB");return}const m=new FileReader;m.onloadend=()=>{const w=m.result;a(w),s(w)},m.readAsDataURL(y)},d=()=>{s(null),a(null)},v=()=>{u(!0),setTimeout(()=>{const f=localStorage.getItem(`user:${e.usuario}`);if(f){const y=JSON.parse(f);y.logo=n,localStorage.setItem(`user:${e.usuario}`,JSON.stringify(y));const m=JSON.parse(localStorage.getItem("sessao-ativa"));m.logo=n,localStorage.setItem("sessao-ativa",JSON.stringify(m)),t(n)}u(!1),alert(" Logo salva com sucesso!"),r()},500)};return o.jsxs("div",{className:"space-y-4",children:[i?o.jsxs("div",{className:"flex flex-col items-center gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:i,alt:"Logo",className:"w-32 h-32 object-contain rounded-lg bg-white p-2"}),o.jsx("button",{onClick:d,className:"absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1 transition-all",children:o.jsx(wn,{className:"w-4 h-4"})})]}),o.jsx("p",{className:"text-slate-400 text-sm",children:"Logo atual"})]}):o.jsxs("div",{className:"border-2 border-dashed border-slate-600 rounded-lg p-8 text-center",children:[o.jsx(Ii,{className:"w-12 h-12 text-slate-500 mx-auto mb-3"}),o.jsx("p",{className:"text-slate-400 mb-2",children:"Nenhuma logo configurada"}),o.jsx("p",{className:"text-slate-500 text-sm",children:"Faa upload abaixo"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block w-full",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:c,className:"hidden"}),o.jsxs("div",{className:"w-full bg-slate-700 hover:bg-slate-600 border border-slate-600 rounded-lg px-4 py-3 text-white text-center cursor-pointer transition-all flex items-center justify-center gap-2",children:[o.jsx(Ii,{className:"w-5 h-5"}),i?"Trocar Logo":"Fazer Upload"]})]}),o.jsx("p",{className:"text-slate-500 text-xs mt-2",children:"Formatos: PNG, JPG, SVG  Tamanho mximo: 2MB  Recomendado: fundo transparente"})]}),n&&o.jsx("button",{onClick:v,disabled:l,className:"w-full bg-amber-500 hover:bg-amber-600 disabled:bg-slate-600 text-white font-semibold py-3 rounded-lg transition-all flex items-center justify-center gap-2",children:l?o.jsxs(o.Fragment,{children:[o.jsx(Ue,{className:"w-5 h-5 animate-spin"}),"Salvando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(ps,{className:"w-5 h-5"}),"Salvar Logo"]})}),o.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-3",children:[o.jsx("p",{className:"text-amber-400 text-sm font-medium mb-1",children:" Dica:"}),o.jsx("p",{className:"text-slate-300 text-xs",children:"Sua logo ser adicionada automaticamente em todas as imagens geradas. Use logo com fundo transparente (PNG) para melhor resultado."})]})]})}function yy({user:e,onLogout:t,onAbrirGaleria:r,onAbrirPerfil:n,onSalvarImagem:s}){const{fetchAuth:i,perfil:a}=kn(),l={tiposConteudo:[{id:"post-instagram",nome:"Instagram",icon:"instagram",principal:!0,formatos:[{id:"feed",nome:"Feed",desc:"Post quadrado 1:1",aspectRatio:"1:1",previewClass:"aspect-square"},{id:"stories",nome:"Stories",desc:"Vertical 9:16",aspectRatio:"9:16",previewClass:"aspect-[9/16]"},{id:"reels",nome:"Reels",desc:"Vertical 9:16",aspectRatio:"9:16",previewClass:"aspect-[9/16]"}]},{id:"post-facebook",nome:"Facebook",icon:"facebook",principal:!0,formatos:[{id:"feed",nome:"Feed",desc:"Post horizontal 16:9",aspectRatio:"16:9",previewClass:"aspect-video"},{id:"stories",nome:"Stories",desc:"Vertical 9:16",aspectRatio:"9:16",previewClass:"aspect-[9/16]"}]},{id:"post-tiktok",nome:"TikTok",icon:"tiktok",principal:!0,formatos:[{id:"video",nome:"Vdeo",desc:"Vertical 9:16",aspectRatio:"9:16",previewClass:"aspect-[9/16]"}]},{id:"post-linkedin",nome:"LinkedIn",icon:"linkedin",principal:!1,formatos:[{id:"feed",nome:"Post",desc:"Feed padro",aspectRatio:"1:1",previewClass:"aspect-square"}]},{id:"artigo",nome:"Artigo Blog",icon:"blog",principal:!1,formatos:[]},{id:"thread",nome:"Thread X",icon:"twitter",principal:!1,formatos:[]}],areasAtuacao:["Direito Civil","Direito Penal","Direito Trabalhista","Direito Empresarial","Direito do Consumidor","Direito de Famlia","Direito Tributrio","Direito Imobilirio","Direito Previdencirio","Direito Digital"],tons:[{id:"profissional",nome:"Profissional"},{id:"didatico",nome:"Didtico"},{id:"acessivel",nome:"Acessvel"},{id:"inspirador",nome:"Inspirador"}],tamanhos:[{id:"curto",nome:"Curto",desc:"~100 palavras"},{id:"medio",nome:"Mdio",desc:"~250 palavras"},{id:"longo",nome:"Longo",desc:"~500 palavras"}],sugestoesAssuntos:{"Direito Civil":["Como funciona a usucapio","Direitos do inquilino","Responsabilidade civil","Contratos de compra e venda","Prescrio de dvidas"],"Direito Penal":["Flagrante vs priso preventiva","Direitos do preso","Legtima defesa","Crimes contra a honra","Acordo de no persecuo"],"Direito Trabalhista":["Resciso indireta","Horas extras","Assdio moral","Acordo trabalhista","Home office"],"Direito Empresarial":["MEI vs ME vs EPP","Proteger marca","Sociedade entre scios","Recuperao judicial","Due diligence"],"Direito do Consumidor":["Produto com defeito","Cancelar compras online","Nome negativado","Cobrana abusiva","Voo atrasado"],"Direito de Famlia":["Divrcio consensual","Penso alimentcia","Guarda compartilhada","Reconhecimento de paternidade","Unio estvel"],"Direito Tributrio":["Contestar auto de infrao","Malha fina","Parcelamento","ISS, ICMS, IPI","Planejamento tributrio"],"Direito Imobilirio":["Documentos para comprar imvel","Distrato","Problemas com construtora","ITBI","Condomnio"],"Direito Previdencirio":["Aposentadoria","INSS negou benefcio","Reviso da vida toda","BPC-LOAS","Auxlio-doena"],"Direito Digital":["LGPD","Vazamento de dados","Crimes virtuais","Contratos digitais","Direito ao esquecimento"]},sugestoesPublico:["Empresrios","Profissionais liberais","Trabalhadores CLT","Consumidores","Pessoas fsicas","MEI","Gestores RH","Sndicos","Aposentados","Jovens profissionais","Proprietrios","Locadores","Pais","Vtimas de acidentes"],templatesStory:[{id:"voce-sabia",nome:"Voc Sabia?",desc:"Perguntas e curiosidades",icon:""},{id:"estatistica",nome:"Estatstica",desc:"Dados e nmeros impactantes",icon:""},{id:"urgente",nome:"Urgente/Alerta",desc:"Prazos e avisos importantes",icon:""}]},[u,c]=C.useState(""),[d,v]=C.useState(""),[f,y]=C.useState(""),[m,w]=C.useState(""),[j,g]=C.useState(""),[h,p]=C.useState("profissional"),[x,_]=C.useState("medio"),[b,S]=C.useState(""),[k,O]=C.useState(!1),[E,U]=C.useState(!1),[W,ce]=C.useState(!1),[G,ot]=C.useState(null),Fe=C.useRef(null),[lr,A]=C.useState(!1),[D,M]=C.useState(!1),[Q,oe]=C.useState(!1),[Sn,kt]=C.useState(!1),[ur,St]=C.useState("classico"),[Ze,Tf]=C.useState("voce-sabia"),[wy,Xl]=C.useState(null),[Yl,jn]=C.useState(!1),[xy,Cf]=C.useState(null),[by,Zl]=C.useState(null),[_y,ky]=C.useState(!1),[Sy,jy]=C.useState(!1),[le,Of]=C.useState(null),eu=d==="stories"||d==="reels"||d==="video"?"stories":u==="post-facebook"&&d==="feed"?"landscape":"quadrado";C.useEffect(()=>{(()=>{try{const z=localStorage.getItem("perfil-visual-advogado");if(z){const P=JSON.parse(z);if(Of(P),P.estilo_visual){const V={classico:"classico",clssico:"classico",moderno:"moderno",contemporneo:"moderno",contemporaneo:"moderno",executivo:"executivo",corporativo:"executivo",profissional:"executivo",acolhedor:"acolhedor",humanizado:"acolhedor",minimalista:"moderno"},Se=P.estilo_visual.toLowerCase(),ee=V[Se]||"classico";St(ee),console.log(" Estilo visual aplicado:",P.estilo_visual,"",ee)}}}catch{console.log("Sem perfil visual salvo")}})()},[]);const[Af,na]=C.useState(!1),[Ns,tu]=C.useState(e.logo||null),[Ey,Ny]=C.useState(!1),[Ut,En]=C.useState([]);C.useEffect(()=>{e.logo&&(console.log(" Logo atualizada"),tu(e.logo))},[e.logo]);const Rf=(N,z)=>{w(N),z&&l.areasAtuacao.includes(z)&&y(z)},sa=N=>N?N.replace(/\[(GANCHO|HISTRIA|SITUAO|EXPLICAO|SOLUO|DICA|CTA|HASHTAGS|JURDICA|PRTICA)[^\]]*\]/gi,"").replace(/\s*(LINHA|RESTANTE|GANCHO|HOOK).*?:/gi,"").replace(/\[?(ROTEIRO DO VDEO|LEGENDA PRONTA|EXEMPLO|INSTRUES|REGRAS)\]?:?/gi,"").replace(/^(GANCHO|HOOK|CTA|HISTRIA|EXPLICAO|SOLUO|SITUAO|DICA)(\s*-)?(\s*EMOCIONAL)?(\s*JURDICA)?(\s*PRTICA)?(\s*at \d+ caracteres)?:?\s*/gim,"").replace(/^\(?(AT \d+ CARACTERES|VISVEL NO FEED|aps o "mais"|mximo \d+ caracteres)\)?:?\s*/gim,"").replace(/#[][a-zA-Z]*\b/gi,"").replace(/#\w{1,3}\b/g,"").replace(/^\s*[][a-zA-Z]*(\s+[][a-zA-Z]*)*\s*$/gm,"").replace(/  +/g," ").replace(/\n\s*\n\s*\n/g,`

`).replace(/^\s*\n+/,"").trim():"",Pf=async()=>{var z;const N=[];if(u||N.push("tipoConteudo"),f||N.push("areaAtuacao"),m||N.push("tema"),N.length>0){En(N),N[0]==="tipoConteudo"||N[0];const P=document.getElementById(`campo-${N[0]}`);P&&(P.scrollIntoView({behavior:"smooth",block:"center"}),(z=P.focus)==null||z.call(P));return}En([]),O(!0),S("");try{const P=If(),V=await i("https://blasterskd.com.br/api/gerar-conteudo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:P})});if(!V.ok)throw new Error(`Erro: ${V.status}`);const Se=await V.json();S(sa(Se.content)),ot(null),ce(!1),setTimeout(()=>{const Dt=document.getElementById("preview-section");Dt&&Dt.scrollIntoView({behavior:"smooth",block:"start"})},100);const ee=d==="stories"||d==="reels"?"stories":u==="post-facebook"?"landscape":"quadrado";ot(null),Fe.current&&(Fe.current=null),Cf(null),Zl(null),(d==="stories"||d==="reels")&&(jn(!0),ru(sa(Se.content),"stories"))}catch(P){console.error("Erro:",P),alert(" Erro ao gerar contedo: "+P.message)}finally{O(!1)}},If=()=>{var Dt;const N=l.tiposConteudo.find(de=>de.id===u);l.tamanhos.find(de=>de.id===x);const z=((Dt=l.areasAtuacao.find(de=>de.id===f))==null?void 0:Dt.nome)||f,P={curto:{palavras:"80-150 palavras",instrucao:"Seja MUITO conciso e direto. Mximo 2-3 pargrafos curtos. V direto ao ponto.",hashtags:"3-5 hashtags"},medio:{palavras:"200-350 palavras",instrucao:"Tamanho equilibrado. 4-5 pargrafos. Desenvolva o tema sem se alongar demais.",hashtags:"5-8 hashtags"},longo:{palavras:"400-600 palavras",instrucao:"Contedo completo e detalhado. 6-8 pargrafos. Aprofunde o tema com exemplos.",hashtags:"8-10 hashtags"}},V=P[x]||P.medio,Se=u==="post-instagram"&&(d==="stories"||d==="reels");let ee=`Voc  um advogado brasileiro especialista em marketing jurdico e criao de contedo para redes sociais.

TAREFA: Criar um ${N==null?void 0:N.nome} sobre "${m}" na rea de ${z}.

PBLICO-ALVO: ${j||"pblico geral interessado em direito"}

TOM: ${h} (${h==="profissional"?"autoridade e credibilidade":h==="didatico"?"explicativo e educativo":h==="acessivel"?"simples e fcil de entender":"motivador e engajador"})
`;if(Se||(ee+=`
 TAMANHO DO TEXTO - OBRIGATRIO RESPEITAR:
- Extenso: ${V.palavras}
- Instruo: ${V.instrucao}
- Quantidade de hashtags: ${V.hashtags}
`),u==="post-instagram")if(Se){const de=l.templatesStory.find(Mt=>Mt.id===Ze)||l.templatesStory[0];ee+=`FORMATO INSTAGRAM ${d.toUpperCase()} - TEMPLATE: ${de.nome.toUpperCase()}:

TEMA: ${m} (rea: ${z})
FORMATO: ${d==="stories"?"Stories (vertical 9:16)":"Reels (vdeo vertical 9:16)"}
ESTILO VISUAL: ${de.desc}

 REGRA PRINCIPAL: Para ${d}, o texto deve ser MUITO CURTO e VISUAL.
As pessoas passam rapidamente pelos stories/reels, ento cada palavra conta!

ESTRUTURA PARA ESTE TEMPLATE (${de.nome}):
`,de.id==="voce-sabia"?ee+=`1. PERGUNTA DE CURIOSIDADE (Ex: "Voc sabia que...?")
2. RESPOSTA DIRETA E CURTA
3. CTA SIMPLES ("Responda aqui")`:de.id==="bullets"?ee+=`1. TTULO ("3 Direitos que voc tem...")
2. LISTA DE 3 PONTOS (Frases curtssimas)
3. CTA DE SALVAMENTO`:de.id==="estatistica"?ee+=`1. DADO IMPACTANTE ("80% dos casos...")
2. EXPLICAO EM 1 FRASE
3. CTA DE COMPARTILHAMENTO`:de.id==="urgente"?ee+=`1. ALERTA ("Prazo acabando!", "Cuidado!")
2. O QUE FAZER AGORA (Instruo ultra rpida)
3. CTA DE URGNCIA`:ee+=`1. GANCHO (1-2 linhas)
2. PONTO PRINCIPAL (2-3 linhas)
3. CTA (1 linha)`,ee+=`

REGRAS GERAIS:
- Mximo 30-40 palavras no total
- Frases MUITO curtas (mximo 10 palavras por frase)
- Use emojis para dar destaque
- Linguagem direta e urgente
- Pense que o texto vai aparecer sobre uma imagem

Crie o texto agora sobre "${m}":`}else ee+=`FORMATO INSTAGRAM FEED - TEXTO FINAL PRONTO PARA PUBLICAO:

TEMA DO POST: ${m} (rea: ${z})

 REGRA MAIS IMPORTANTE - GANCHO DE 125 CARACTERES:
No Instagram, apenas os PRIMEIROS 125 CARACTERES aparecem no feed.
O resto fica escondido atrs do boto "mais".

VOC DEVE:
1. Criar um GANCHO ORIGINAL sobre "${m}" (mximo 125 caracteres)
2. Esse gancho deve ser IMPACTANTE e gerar CURIOSIDADE sobre o tema
3. Fazer o leitor QUERER clicar em "mais"

IMPORTANTE: NO COPIE os exemplos abaixo! Eles so apenas para mostrar o ESTILO.
Crie um gancho ORIGINAL e ESPECFICO sobre "${m}".

ESTILO de gancho bom (NO COPIE, apenas inspire-se no formato):
- Emoji + pergunta ou afirmao chocante + reticncias
- Mximo 125 caracteres
- Gera curiosidade sobre o tema especfico

ESTILO de gancho ruim (EVITE):
- "Ol, tudo bem? Hoje vou falar sobre..."
- Frases longas demais (mais de 125 caracteres)
- Sem emoji ou sem impacto emocional
- Genrico, sem relao com o tema

ESTRUTURA DO POST (sobre "${m}"):

1. GANCHO (at 125 chars) - Frase impactante sobre ${m}
2. HISTRIA/SITUAO - Exemplo real relacionado a ${m}
3. EXPLICAO JURDICA - O que a lei diz sobre ${m}
4. SOLUO/DICA - O que fazer em relao a ${m}
5. CTA - Chamada para ao
6. HASHTAGS - Relacionadas a ${m}

---

REGRAS FINAIS:
- O texto deve ser 100% sobre "${m}", NO sobre outro assunto
- NO copie os exemplos do prompt, crie contedo ORIGINAL
- NO inclua marcaes como [GANCHO], [HISTRIA] no texto final
- Escreva o texto corrido, natural, pronto para copiar e colar
- Primeiro pargrafo = gancho de NO MXIMO 125 caracteres
- Pargrafos curtos (2-3 linhas)
- ${V.hashtags} no final, SEM acentos
- Tamanho total: ${V.palavras}`;else u==="post-facebook"?ee+=`FORMATO FACEBOOK - TEXTO FINAL PRONTO PARA PUBLICAO:

TEMA DO POST: ${m} (rea: ${z})

Gere o texto EXATAMENTE como ser postado no Facebook sobre "${m}".
NO copie o exemplo abaixo - ele  apenas para mostrar o ESTILO.
Crie contedo 100% ORIGINAL sobre "${m}".

ESTILO do post (NO COPIE, apenas inspire-se):
- Comece com pergunta ou fato interessante sobre o tema
- Conte uma histria ou exemplo relacionado
- Explique a lei de forma simples
- Termine com pergunta para engajamento

---

INSTRUES:
- O contedo deve ser 100% sobre "${m}"
- NO copie exemplos, crie contedo ORIGINAL
- Tamanho: ${V.palavras}
- Tom conversacional e pessoal
- ${x!=="curto"?"Conte uma histria ou exemplo prtico":"Seja direto mas amigvel"}
- Termine com pergunta para gerar comentrios
- ${V.hashtags} no final, sem acentos
- Pargrafos curtos, fceis de ler no celular`:u==="post-tiktok"?ee+=`FORMATO TIKTOK - ROTEIRO PRONTO PARA GRAVAR:

TEMA DO VDEO: ${m} (rea: ${z})

Gere um roteiro de vdeo ${x==="curto"?"(15-30 segundos)":x==="medio"?"(30-60 segundos)":"(60-90 segundos)"} + legenda pronta.

IMPORTANTE: O roteiro deve ser 100% sobre "${m}".
NO copie o exemplo abaixo - crie contedo ORIGINAL sobre o tema.

ESTRUTURA DO ROTEIRO:

[ROTEIRO DO VDEO]

 CENA 1 (Expresso e instruo):
"Fala sobre ${m} de forma impactante"

 CENA 2 (Desenvolvimento):
"Pontos principais sobre ${m}"

 CENA 3 (CTA):
"Chamada para ao"

---

 LEGENDA PRONTA:
Legenda curta sobre ${m} + hashtags

---

INSTRUES:
- O contedo deve ser 100% sobre "${m}"
- NO copie exemplos, crie contedo ORIGINAL
- Linguagem SUPER informal, como conversa com amigo
- ${x==="curto"?"2 pontos principais":x==="medio"?"3 pontos principais":"4-5 pontos principais"}
- Frases curtas e diretas
- Indique expresses e gestos entre colchetes
- Legenda separada com ${V.hashtags} sem acentos`:u==="post-linkedin"?ee+=`FORMATO LINKEDIN - TEXTO FINAL PRONTO PARA PUBLICAO:

TEMA DO POST: ${m} (rea: ${z})

Gere o texto EXATAMENTE como ser postado no LinkedIn sobre "${m}".
NO copie exemplos - crie contedo 100% ORIGINAL sobre o tema.

ESTILO (inspire-se, NO copie):
- Comece com pergunta ou situao real sobre o tema
- Use dados/nmeros quando possvel
- Tom profissional mas acessvel
- Termine com pergunta para engajamento

---

INSTRUES:
- O contedo deve ser 100% sobre "${m}"
- NO copie exemplos, crie contedo ORIGINAL
- Tamanho: ${V.palavras}
- Pargrafos curtos (1-2 linhas)
- Setas () para listar pontos
- ${V.hashtags} profissionais no final, sem acentos
- Termine com pergunta para gerar engajamento`:u==="artigo"?ee+=`FORMATO ARTIGO/BLOG - TEXTO FINAL PRONTO PARA PUBLICAO:

TEMA DO ARTIGO: ${m} (rea: ${z})

Gere o artigo completo sobre "${m}", pronto para publicar em blog ou site.
NO copie exemplos - crie contedo 100% ORIGINAL sobre o tema.

ESTRUTURA:
# Ttulo sobre ${m} (SEO-Friendly)

Introduo contextualizando "${m}"

${x!=="curto"?"## Subttulos desenvolvendo aspectos de "+m:"Desenvolvimento direto sobre "+m}

## Concluso com recomendaes prticas

---

INSTRUES:
- O contedo deve ser 100% sobre "${m}"
- NO copie exemplos, crie contedo ORIGINAL
- Tamanho: ${V.palavras}
- Ttulo otimizado para SEO
- ${x==="curto"?"Texto direto, sem subttulos":"Use subttulos para organizar"}
- Linguagem clara, evite juridiqus
- Pargrafos de 3-4 linhas no mximo
- Exemplos prticos quando possvel`:u==="thread"&&(ee+=`FORMATO THREAD X/TWITTER - TEXTO FINAL PRONTO PARA PUBLICAO:

TEMA DA THREAD: ${m} (rea: ${z})

Gere a thread completa sobre "${m}", pronta para postar tweet por tweet.
NO copie exemplos - crie contedo 100% ORIGINAL sobre o tema.

ESTRUTURA:
1/  Gancho sobre ${m}
2/ Primeiro ponto sobre ${m}
3/ Segundo ponto sobre ${m}
...
ltimo/ CTA + hashtags

---

INSTRUES:
- O contedo deve ser 100% sobre "${m}"
- NO copie exemplos, crie contedo ORIGINAL
- ${x==="curto"?"4-5 tweets":x==="medio"?"6-7 tweets":"8-10 tweets"}
- Cada tweet: mximo 280 caracteres
- Numere todos (1/, 2/, etc)
- Primeiro tweet: gancho + ""  
- ltimo tweet: CTA + hashtags sem acentos
- Tom direto e informal`);return ee+=`

REGRAS OBRIGATRIAS:
1.  TEMA: O contedo DEVE ser 100% sobre "${m}". NO fale sobre outro assunto!
2.  ORIGINALIDADE: NO copie os exemplos do prompt. Crie contedo ORIGINAL.
3.  TAMANHO: Respeite RIGOROSAMENTE ${V.palavras}. ${V.instrucao}
4. NO inclua marcaes como "GANCHO:", "LINHA 1:", "EXEMPLO:", "REGRAS:" no texto final
5. O texto deve estar 100% pronto para copiar e colar na rede social
6. NO use juridiqus excessivo - seja claro e acessvel
7. NO invente leis ou artigos - seja preciso
8. NO faa promessas de resultado
9. HASHTAGS - REGRA CRTICA:
   - Escreva TODAS as hashtags SEM ACENTOS E SEM CEDILHA
   - ERRADO: #Negociao #Jurdicas #Previdncia #Resoluo
   - CERTO: #Negociacao #Juridicas #Previdencia #Resolucao
   - Use apenas letras simples: a-z, A-Z e nmeros
10. Use emojis com moderao
11. Contedo 100% original sobre "${m}"

Crie o contedo agora sobre "${m}" (${V.palavras}):`,ee},Lf=()=>{navigator.clipboard.writeText(b),U(!0),setTimeout(()=>U(!1),2e3)},ru=async(N=null,z=null)=>{var Se,ee,Dt;const P=N||b,V=z||eu;if(console.log(" [INICIO] gerarImagem chamado"),console.log("   - textoOverride:",N?"SIM":"NO"),console.log("   - formatoOverride:",z),console.log("   - formatoUsar:",V),!P){alert("Gere o contedo primeiro!");return}jn(!0),console.log(" Loading iniciado");try{if(V==="stories"){console.log(" Gerando Story com template:",Ze);const et=await i("https://blasterskd.com.br/api/gerar-story",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({texto:P==null?void 0:P.substring(0,600),tema:m,area:f,template:Ze,perfil_visual:le,nome_advogado:(e==null?void 0:e.nome)||(e==null?void 0:e.nome)||"",oab:(e==null?void 0:e.oab)||(e==null?void 0:e.oab)||"",telefone:(e==null?void 0:e.telefone)||"",instagram:(e==null?void 0:e.instagram)||"",logo:Ns||(a==null?void 0:a.logo_url)||""})});if(!et.ok)throw new Error("Erro ao gerar Story");const Pe=await et.json();if(Pe.success&&Pe.imageUrl){if(console.log(" Story gerado:",Pe.imageUrl),console.log(" [STORIES] Atualizando estados com a imagem..."),Fe.current=Pe.imageUrl,Xl(Pe.imageUrl),ot(Pe.imageUrl),console.log(" [STORIES] Estados atualizados! imagemPreview:",Pe.imageUrl.substring(0,60)),s)try{await s({url:Pe.imageUrl,tema:m,area:f,tipoConteudo:u,formato:"stories"}),console.log(" Story salvo no Supabase")}catch(Be){console.log(" Erro ao salvar Story no Supabase:",Be)}}else throw new Error("Falha ao gerar Story");jn(!1);return}console.log(" Gerando prompt e bullets...");const de=await i("https://blasterskd.com.br/api/gerar-prompt-imagem",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tema:m,area:f,estilo:ur,formato:V,texto:P==null?void 0:P.substring(0,600),perfil_visual:le})});if(!de.ok)throw new Error("Erro ao gerar prompt");const Mt=await de.json();console.log(" Resposta n8n:",Mt);const Ty=Mt.promptFinal||"";let cr=Mt.bullet1||"",dr=Mt.bullet2||"",hr=Mt.bullet3||"";const nu=Mt.imageUrl||"";if((["informao jurdica relevante","direitos e deveres","orientao profissional"].some(et=>cr.toLowerCase().includes(et)||dr.toLowerCase().includes(et)||hr.toLowerCase().includes(et))||!cr&&!dr&&!hr)&&b){console.log(" Bullets genricos detectados, extraindo do contedo...");const et=b.split(`
`).filter(Be=>Be.trim()),Pe=[];for(const Be of et)if(/^[]/.test(Be.trim())||/^\d+[.)]/.test(Be.trim())){const Ve=Be.replace(/^[\d.)\s]+/,"").trim();Ve.length>10&&Ve.length<80&&Pe.push(Ve)}if(Pe.length>=3)cr=Pe[0],dr=Pe[1],hr=Pe[2];else{const Be=b.replace(/#\w+/g,"").split(/[.!?]/).map(Ve=>Ve.trim()).filter(Ve=>Ve.length>20&&Ve.length<80&&!Ve.includes(`
`));if(Be.length>=3){const Ve=Math.floor(Be.length/3);cr=Be[Ve]||"",dr=Be[Ve+1]||"",hr=Be[Ve+2]||""}}console.log(" Bullets extrados:",{bullet1:cr,bullet2:dr,bullet3:hr})}if(console.log(" Bullets finais:",{bullet1:cr,bullet2:dr,bullet3:hr}),!nu)throw new Error("Nenhuma imagem foi gerada");console.log(" Adicionando texto..."),console.log(" Logo a enviar:",Ns?Ns.substring(0,60)+"...":"NENHUMA"),console.log(" Estilo:",ur),console.log(" Perfil Visual:",le?"SIM":"NO");const su=(le==null?void 0:le.cor_primaria)||((Se=le==null?void 0:le.cores_principais)==null?void 0:Se[0])||null,iu=(le==null?void 0:le.cor_secundaria)||((ee=le==null?void 0:le.cores_principais)==null?void 0:ee[1])||null,au=(le==null?void 0:le.cor_acento)||((Dt=le==null?void 0:le.cores_principais)==null?void 0:Dt[0])||null;console.log(" Cores a enviar:",{corPrimaria:su,corSecundaria:iu,corAcento:au});const ia=await i("https://blasterskd.com.br/api/gerar-imagem",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:nu,tema:m,area:f,nomeAdvogado:e.nome,oab:e.oab,instagram:e.instagram||"",instagram:e.instagram||"",email:"",telefone:"",formato:V,estilo:ur,logo:Ns,bullet1:cr,bullet2:dr,bullet3:hr,corPrimaria:su,corSecundaria:iu,corAcento:au})});if(!ia.ok){const et=await ia.json();throw new Error(et.details||"Erro ao processar imagem")}const fr=await ia.json();if(console.log(" Imagem final recebida:",fr.imageUrl),!fr.imageUrl)throw new Error("URL da imagem no retornada pela API");if(console.log(" Atualizando estados com a imagem..."),Fe.current=fr.imageUrl,Xl(fr.imageUrl),ot(fr.imageUrl),console.log(" Estados atualizados! imagemPreview agora :",fr.imageUrl.substring(0,50)),kt(!1),ce(!1),s)try{await s({url:fr.imageUrl,tema:m,area:f,tipoConteudo:u,formato:d||eu}),console.log(" Imagem salva no Supabase")}catch(et){console.log(" Erro ao salvar no Supabase:",et)}}catch(de){console.error(" ERRO na gerao de imagem:",de),console.error("   Stack:",de.stack),alert(" Erro ao gerar imagem: "+de.message)}finally{console.log(" Finalizando gerao de imagem (setLoadingImagem = false)"),jn(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 sm:gap-0 mb-6 sm:mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto justify-center sm:justify-start",children:[o.jsx(ui,{className:"w-10 h-10 text-amber-400"}),o.jsxs("div",{className:"text-center sm:text-left",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white leading-tight",children:"Criador de Contedo"}),o.jsxs("p",{className:"text-slate-300 text-sm",children:["Ol, ",e.nome]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 sm:flex gap-2 sm:gap-3 w-full sm:w-auto justify-center",children:[r&&o.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-white transition-all",title:"Minhas Imagens",children:[o.jsx(cn,{className:"w-5 h-5"}),o.jsx("span",{children:"Galeria"})]}),n&&o.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-white transition-all",title:"Meu Perfil",children:[o.jsx(wc,{className:"w-5 h-5"}),o.jsx("span",{children:"Perfil"})]}),o.jsxs("button",{onClick:()=>na(!0),className:"flex items-center gap-2 px-4 py-2 bg-amber-500/20 hover:bg-amber-500/30 rounded-lg text-amber-400 transition-all",children:[o.jsx(lf,{className:"w-5 h-5"}),o.jsx("span",{children:"Visual"})]}),o.jsxs("button",{onClick:()=>{console.log(" Boto Sair clicado"),t?t():console.log(" onLogout no est definido!")},className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-red-600/80 rounded-lg text-white transition-all",children:[o.jsx(_0,{className:"w-5 h-5"}),o.jsx("span",{children:"Sair"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-slate-800/50 backdrop-blur rounded-xl p-6 border border-slate-700",children:[o.jsxs("h2",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[o.jsx(Pa,{className:"w-6 h-6 text-amber-400"}),"Configurar Contedo"]}),o.jsxs("div",{id:"campo-tipoConteudo",className:`mb-6 p-3 rounded-lg transition-all ${Ut.includes("tipoConteudo")?"bg-red-500/10 border border-red-500/50 ring-2 ring-red-500/30":""}`,children:[o.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:["Tipo de Contedo *",Ut.includes("tipoConteudo")&&o.jsx("span",{className:"text-red-400 ml-2 text-xs",children:" Selecione uma opo"})]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:l.tiposConteudo.filter(N=>["post-instagram","post-facebook"].includes(N.id)).map(N=>{const z=()=>{const P=`w-6 h-6 ${u===N.id?"text-amber-400":"text-slate-300"}`;switch(N.icon){case"instagram":return o.jsx(li,{className:P});case"facebook":return o.jsx(Ra,{className:P});case"tiktok":return o.jsx("svg",{className:P,viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"})});case"linkedin":return o.jsx(x0,{className:P});case"blog":return o.jsx(v0,{className:P});case"twitter":return o.jsx("svg",{className:P,viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})});default:return o.jsx(yc,{className:P})}};return o.jsxs("button",{onClick:()=>{var P;c(N.id),En(V=>V.filter(Se=>Se!=="tipoConteudo")),((P=N.formatos)==null?void 0:P.length)===1?v(N.formatos[0].id):v("")},className:`p-3 rounded-lg border transition-all flex flex-col items-center ${u===N.id?"border-amber-400 bg-amber-400/10 text-amber-400":"border-slate-600 hover:border-slate-500 bg-slate-700/50 text-slate-300"}`,children:[z(),o.jsx("div",{className:"font-medium text-sm mt-1.5",children:N.nome})]},N.id)})})]}),u&&(()=>{var z;const N=l.tiposConteudo.find(P=>P.id===u);return!((z=N==null?void 0:N.formatos)!=null&&z.length)||N.formatos.length<=1?null:o.jsxs("div",{className:"mb-6 p-3 rounded-lg bg-slate-800/50 border border-slate-700",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Formato do Post"}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:N.formatos.map(P=>o.jsxs("button",{onClick:()=>v(P.id),className:`flex-1 p-3 rounded-lg border transition-all ${d===P.id?"border-amber-400 bg-amber-400/10":"border-slate-600 hover:border-slate-500 bg-slate-700/50"}`,children:[o.jsx("div",{className:"flex justify-center mb-2",children:P.id==="feed"&&u==="post-instagram"?o.jsx("div",{className:`w-8 h-8 border-2 rounded ${d===P.id?"border-amber-400":"border-slate-400"}`}):P.id==="feed"&&u==="post-facebook"?o.jsx("div",{className:`w-10 h-6 border-2 rounded ${d===P.id?"border-amber-400":"border-slate-400"}`}):o.jsx("div",{className:`w-5 h-9 border-2 rounded ${d===P.id?"border-amber-400":"border-slate-400"}`})}),o.jsx("div",{className:`text-sm font-medium ${d===P.id?"text-amber-400":"text-slate-300"}`,children:P.nome}),o.jsx("div",{className:"text-xs text-slate-500 mt-0.5",children:P.desc})]},P.id))})]})})(),o.jsx(my,{onSelectTema:Rf,areaAtuacao:f}),o.jsx("div",{className:"mb-6",children:o.jsx(gy,{})}),o.jsxs("div",{id:"campo-areaAtuacao",className:`mb-6 p-3 rounded-lg transition-all ${Ut.includes("areaAtuacao")?"bg-red-500/10 border border-red-500/50 ring-2 ring-red-500/30":""}`,children:[o.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:["rea de Atuao *",Ut.includes("areaAtuacao")&&o.jsx("span",{className:"text-red-400 ml-2 text-xs",children:" Selecione uma opo"})]}),o.jsxs("select",{value:f,onChange:N=>{y(N.target.value),En(z=>z.filter(P=>P!=="areaAtuacao"))},className:`w-full bg-slate-700 border rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-amber-400 ${Ut.includes("areaAtuacao")?"border-red-500":"border-slate-600"}`,children:[o.jsx("option",{value:"",children:"Selecione..."}),l.areasAtuacao.map(N=>o.jsx("option",{value:N,children:N},N))]})]}),o.jsxs("div",{id:"campo-tema",className:`mb-6 p-3 rounded-lg transition-all ${Ut.includes("tema")?"bg-red-500/10 border border-red-500/50 ring-2 ring-red-500/30":""}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-slate-300",children:["Assunto / Tema *",Ut.includes("tema")&&o.jsx("span",{className:"text-red-400 ml-2 text-xs",children:" Digite o tema"})]}),f&&o.jsxs("button",{onClick:()=>M(!D),className:"text-xs text-amber-400 hover:text-amber-300 flex items-center gap-1",children:[o.jsx(Pa,{className:"w-3 h-3"}),D?"Ocultar":"Ver"," sugestes"]})]}),o.jsx("input",{type:"text",value:m,onChange:N=>{w(N.target.value),En(z=>z.filter(P=>P!=="tema"))},placeholder:"Ex: Como funciona a resciso indireta",className:`w-full bg-slate-700 border rounded-lg px-4 py-2.5 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-amber-400 ${Ut.includes("tema")?"border-red-500":"border-slate-600"}`}),D&&f&&l.sugestoesAssuntos[f]&&o.jsxs("div",{className:"mt-3 bg-slate-900/50 rounded-lg p-3 border border-amber-500/20",children:[o.jsx("p",{className:"text-xs text-amber-400 font-medium mb-2",children:" Sugestes:"}),o.jsx("div",{className:"space-y-1.5",children:l.sugestoesAssuntos[f].map((N,z)=>o.jsxs("button",{onClick:()=>{w(N),M(!1)},className:"w-full text-left text-xs text-slate-300 hover:text-amber-400 hover:bg-slate-800 p-2 rounded transition-all",children:[" ",N]},z))})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Pblico-Alvo"}),o.jsxs("button",{onClick:()=>oe(!Q),className:"text-xs text-amber-400 hover:text-amber-300 flex items-center gap-1",children:[o.jsx(T0,{className:"w-3 h-3"}),Q?"Ocultar":"Ver"," sugestes"]})]}),o.jsx("input",{type:"text",value:j,onChange:N=>g(N.target.value),placeholder:"Ex: Empresrios, Trabalhadores, etc.",className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-amber-400"}),Q&&o.jsxs("div",{className:"mt-3 bg-slate-900/50 rounded-lg p-3 border border-amber-500/20",children:[o.jsx("p",{className:"text-xs text-amber-400 font-medium mb-2",children:" Sugestes:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:l.sugestoesPublico.map((N,z)=>o.jsx("button",{onClick:()=>{g(N),oe(!1)},className:"text-xs bg-slate-800 hover:bg-amber-500/20 hover:text-amber-400 text-slate-300 px-3 py-1.5 rounded-full border border-slate-600 hover:border-amber-500/50 transition-all",children:N},z))})]})]}),d==="stories"||d==="reels"?o.jsxs("div",{className:"mb-6",children:[o.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:["Estilo do ",d==="stories"?"Story":"Reels"]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:l.templatesStory.map(N=>o.jsxs("button",{onClick:()=>Tf(N.id),className:`p-1.5 rounded-xl border transition-all text-left flex items-center gap-3 relative overflow-hidden group ${Ze===N.id?"border-amber-400 bg-amber-400/10":"border-slate-700 hover:border-slate-600 bg-slate-800/40 text-slate-300"}`,children:[o.jsx(fy,{template:N.id}),o.jsxs("div",{className:"flex-1 pr-2",children:[o.jsx("div",{className:`font-bold text-sm ${Ze===N.id?"text-amber-400":"text-slate-100"}`,children:N.nome}),o.jsx("div",{className:`text-[10px] leading-tight mt-1 line-clamp-2 ${Ze===N.id?"text-amber-400/70":"text-slate-500"}`,children:N.desc})]}),Ze===N.id&&o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx("div",{className:"w-4 h-4 bg-amber-400 rounded-full flex items-center justify-center",children:o.jsx(ps,{className:"w-2.5 h-2.5 text-slate-900"})})})]},N.id))})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Tom do Contedo"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.tons.map(N=>o.jsx("button",{onClick:()=>p(N.id),className:`p-3 rounded-lg border transition-all ${h===N.id?"border-amber-400 bg-amber-400/10 text-amber-400":"border-slate-600 hover:border-slate-500 bg-slate-700/50 text-slate-300"}`,children:o.jsx("div",{className:"font-medium text-sm",children:N.nome})},N.id))})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Tamanho"}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:l.tamanhos.map(N=>o.jsxs("button",{onClick:()=>_(N.id),className:`flex-1 p-3 rounded-lg border transition-all ${x===N.id?"border-amber-400 bg-amber-400/10 text-amber-400":"border-slate-600 hover:border-slate-500 bg-slate-700/50 text-slate-300"}`,children:[o.jsx("div",{className:"font-medium text-sm",children:N.nome}),o.jsx("div",{className:`text-xs mt-0.5 ${x===N.id?"text-amber-400/70":"text-slate-500"}`,children:N.desc})]},N.id))})]})]}),o.jsx("button",{onClick:Pf,disabled:k,className:"w-full bg-amber-500 hover:bg-amber-600 disabled:bg-slate-600 text-white font-semibold py-3 rounded-lg transition-all flex items-center justify-center gap-2",children:k?o.jsxs(o.Fragment,{children:[o.jsx(Ue,{className:"w-5 h-5 animate-spin"}),"Gerando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Pa,{className:"w-5 h-5"}),"Gerar Contedo"]})})]}),o.jsxs("div",{id:"preview-section",className:"bg-slate-800/50 backdrop-blur rounded-xl p-6 border border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[u==="post-instagram"?o.jsx(li,{className:"w-6 h-6 text-pink-400"}):u==="post-facebook"?o.jsx(Ra,{className:"w-6 h-6 text-blue-400"}):u==="post-tiktok"?o.jsx("svg",{className:"w-6 h-6 text-cyan-400",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"})}):o.jsx(ui,{className:"w-6 h-6 text-amber-400"}),o.jsxs("span",{children:[u==="post-instagram"?"Instagram":u==="post-facebook"?"Facebook":u==="post-tiktok"?"TikTok":"Contedo",d&&o.jsxs("span",{className:"text-slate-400 font-normal ml-2",children:[" ",d==="feed"?"Feed":d==="stories"?"Stories":d==="reels"?"Reels":d==="video"?"Vdeo":d]})]})]}),b&&o.jsxs("div",{className:"grid grid-cols-2 sm:flex gap-2",children:[o.jsxs("button",{onClick:()=>ce(!W),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm transition-all ${W?"bg-amber-500 text-white":"bg-slate-700 hover:bg-slate-600 text-white"}`,children:[o.jsx(k0,{className:"w-4 h-4"}),W?"Visualizar":"Editar"]}),o.jsxs("button",{onClick:Lf,className:"flex items-center gap-2 px-3 py-1.5 bg-slate-700 hover:bg-slate-600 rounded-lg text-white text-sm transition-all",children:[E?o.jsx(ps,{className:"w-4 h-4 text-green-400"}):o.jsx(p0,{className:"w-4 h-4"}),E?"Copiado!":"Copiar"]}),G&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:async()=>{const z=await(await fetch(G)).blob(),P=window.URL.createObjectURL(z),V=document.createElement("a");V.href=P,V.download="juriscontent-post.png",V.click(),window.URL.revokeObjectURL(P)},className:"flex items-center gap-2 px-3 py-1.5 bg-amber-500 hover:bg-amber-600 rounded-lg text-white text-sm transition-all font-medium",children:[o.jsx(Mo,{className:"w-4 h-4"}),"Baixar"]}),o.jsxs("button",{onClick:()=>window.open("https://api.whatsapp.com/send?text="+encodeURIComponent(G),"_blank"),className:"flex items-center gap-2 px-3 py-1.5 bg-green-600 hover:bg-green-700 rounded-lg text-white text-sm transition-all font-medium",children:[o.jsx(yc,{className:"w-4 h-4"}),"WhatsApp"]}),o.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(G),alert("Link copiado!")},className:"flex items-center gap-2 px-3 py-1.5 bg-slate-600 hover:bg-slate-500 rounded-lg text-white text-sm transition-all font-medium",children:[o.jsx(Ia,{className:"w-4 h-4"}),"Link"]})]})]})]}),o.jsx("div",{className:"min-h-[500px] bg-slate-900/50 rounded-lg p-6 border border-slate-600",children:b?W?o.jsxs("div",{className:"h-full",children:[o.jsx("textarea",{value:b,onChange:N=>S(N.target.value),className:"w-full h-[450px] bg-slate-800 border border-slate-600 rounded-lg p-4 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-amber-400 resize-none font-mono text-sm leading-relaxed",placeholder:"Edite seu contedo aqui..."}),o.jsx("p",{className:"text-xs text-slate-500 mt-2",children:' Modo edio ativo. Faa suas alteraes e clique em "Visualizar" para ver o resultado.'})]}):o.jsxs("div",{className:"flex flex-col h-full",children:[d==="feed"&&!Yl&&o.jsxs("div",{className:"mb-4 p-4 bg-slate-700/50 rounded-xl border border-slate-600",children:[o.jsx("p",{className:"text-sm text-slate-300 mb-3 text-center",children:G?"Trocar imagem:":"Como deseja adicionar a imagem?"}),o.jsxs("div",{className:"flex gap-3 justify-center flex-wrap",children:[o.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white text-sm cursor-pointer transition-all",children:[o.jsx(Ii,{className:"w-4 h-4"}),G?"Enviar outra":"Fazer Upload",o.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:async N=>{const z=N.target.files[0];if(z){const P=new FileReader;P.onload=async V=>{const Se=V.target.result;Zl(Se),ot(Se),Fe.current=Se},P.readAsDataURL(z)}}})]}),o.jsxs("button",{onClick:()=>{jn(!0),ru(sa(b),"quadrado")},className:"flex items-center gap-2 px-4 py-2 bg-amber-500 hover:bg-amber-600 rounded-lg text-white text-sm transition-all",children:[o.jsx(Wl,{className:"w-4 h-4"}),G?"Gerar nova":"Gerar com IA"]})]})]}),o.jsx("div",{className:"flex-1 min-h-0",children:o.jsx(py,{tipo:u,formato:d||"feed",conteudo:b,usuario:e,modoCompleto:!0,imagemPreview:Fe.current||G,onVisualizarImagem:G?()=>A(!0):null,loadingImagem:Yl},Fe.current||G||"no-image")})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 text-center py-20",children:[u==="post-instagram"?o.jsx(li,{className:"w-16 h-16 mb-4 opacity-30"}):u==="post-facebook"?o.jsx(Ra,{className:"w-16 h-16 mb-4 opacity-30"}):u==="post-tiktok"?o.jsx("svg",{className:"w-16 h-16 mb-4 opacity-30",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"})}):o.jsx(ui,{className:"w-16 h-16 mb-4 opacity-30"}),o.jsx("p",{className:"text-lg mb-2",children:"Nenhum contedo gerado ainda"}),o.jsx("p",{className:"text-sm",children:'Configure os parmetros e clique em "Gerar Contedo"'})]})})]})]}),o.jsx("div",{className:"mt-6"}),lr&&G&&o.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center p-4 z-50 cursor-pointer",onClick:()=>A(!1),children:o.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] w-full",children:[o.jsxs("button",{onClick:()=>A(!1),className:"absolute -top-12 right-0 text-white/70 hover:text-white transition-colors flex items-center gap-2",children:[o.jsx("span",{className:"text-sm",children:"Fechar"}),o.jsx(wn,{className:"w-6 h-6"})]}),o.jsx("img",{src:G,alt:"Imagem do post",className:"w-full h-full object-contain rounded-lg shadow-2xl",onClick:N=>N.stopPropagation()}),o.jsxs("div",{className:"absolute -bottom-12 left-0 right-0 flex justify-center gap-4",children:[o.jsxs("a",{href:G,download:"post-juriscontent.png",onClick:N=>N.stopPropagation(),className:"flex items-center gap-2 px-4 py-2 bg-amber-500 hover:bg-amber-600 rounded-lg text-white text-sm transition-all",children:[o.jsx(Mo,{className:"w-4 h-4"}),"Baixar Imagem"]}),o.jsxs("button",{onClick:N=>{N.stopPropagation(),navigator.share?navigator.share({title:"Post Jurdico",url:G}):window.open("https://api.whatsapp.com/send?text="+encodeURIComponent(G),"_blank")},className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-white text-sm transition-all",children:[o.jsx(xc,{className:"w-4 h-4"}),"Compartilhar"]}),o.jsxs("button",{onClick:N=>{N.stopPropagation(),navigator.clipboard.writeText(G),alert("Link copiado!")},className:"flex items-center gap-2 px-4 py-2 bg-slate-600 hover:bg-slate-500 rounded-lg text-white text-sm transition-all",children:[o.jsx(Ia,{className:"w-4 h-4"}),"Copiar Link"]}),o.jsxs("button",{onClick:N=>{N.stopPropagation(),navigator.share?navigator.share({title:"Post Jurdico",url:G}):window.open("https://api.whatsapp.com/send?text="+encodeURIComponent(G),"_blank")},className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-white text-sm transition-all",children:[o.jsx(xc,{className:"w-4 h-4"}),"Compartilhar"]}),o.jsxs("button",{onClick:N=>{N.stopPropagation(),navigator.clipboard.writeText(G),alert("Link copiado!")},className:"flex items-center gap-2 px-4 py-2 bg-slate-600 hover:bg-slate-500 rounded-lg text-white text-sm transition-all",children:[o.jsx(Ia,{className:"w-4 h-4"}),"Copiar Link"]})]})]})}),Af&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-slate-800 rounded-xl max-w-2xl w-full p-6 border border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[o.jsx(wc,{className:"w-6 h-6 text-amber-400"}),"Configuraes"]}),o.jsx("button",{onClick:()=>na(!1),className:"text-slate-400 hover:text-white transition-colors",children:o.jsx(wn,{className:"w-6 h-6"})})]}),o.jsx(vy,{user:e,onSaveLogo:N=>tu(N),onClose:()=>na(!1)})]})})]})})}Wa.createRoot(document.getElementById("root")).render(o.jsx(Yf.StrictMode,{children:o.jsx(ly,{})}));
